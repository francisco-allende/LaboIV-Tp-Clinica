import{F as m,H as y,I,J as o,K as n,M as d,N as q,O as l}from"./chunk-KOE6HBMH.js";import{Y as h,ba as u}from"./chunk-TDWWCWZI.js";import{h as c}from"./chunk-DLDOR3YA.js";var g=(()=>{let a=class a{constructor(e){this.firestore=e}getAllTurnos(){let e=o(this.firestore,"turnos");return y(e)}getTurnosFromEspecialista(e){return c(this,null,function*(){try{let t=o(this.firestore,"turnos"),s=d(t,l("especialistaId","==",e)),r=yield n(s);if(r.empty)return;{let i=[];return r.forEach(f=>{i.push(f.data())}),i}}catch(t){console.error("Error al obtener los turnos por paciente: ",t);return}})}getTurnosFromPaciente(e){return c(this,null,function*(){try{let t=o(this.firestore,"turnos"),s=d(t,l("pacienteId","==",e)),r=yield n(s);if(r.empty)return;{let i=[];return r.forEach(f=>{i.push(f.data())}),i}}catch(t){console.error("Error al obtener los turnos por especialista: ",t);return}})}altaTurno(e){try{let t=o(this.firestore,"turnos");I(t,{id:e.id,fecha:e.fecha,especialistaId:e.especialistaId,pacienteId:e.pacienteId,especialidad:e.especialidad,estado:e.estado,comentario:e.comentario,resenia:e.resenia,historiaClinica:e.historiaClinica})}catch(t){console.error("Error en el alta del turno:",t)}}update(e){return c(this,null,function*(){try{let t=o(this.firestore,"turnos"),s=d(t,l("id","==",e.id)),r=yield n(s);if(!r.empty){let i=r.docs[0].ref;yield q(i,{id:e.id,fecha:e.fecha,especialistaId:e.especialistaId,pacienteId:e.pacienteId,especialidad:e.especialidad,estado:e.estado,comentario:e.comentario,resenia:e.resenia,historiaClinica:e.historiaClinica})}}catch(t){throw console.error("Error actualizando el turno:",t),t}})}};a.\u0275fac=function(t){return new(t||a)(u(m))},a.\u0275prov=h({token:a,factory:a.\u0275fac,providedIn:"root"});let p=a;return p})();export{g as a};
