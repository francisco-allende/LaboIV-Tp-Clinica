import{$ as cn,$a as Sa,A as Jh,Aa as fd,B as la,Ba as pd,C as xt,Ca as vt,D as Bn,Da as Ia,E as an,Ea as Gn,F as ha,Fa as pe,G as $n,Ga as et,H as Xh,Ha as md,I as jn,Ia as gd,J as Lt,Ja as yd,K as da,Ka as es,L as Zh,La as ts,M as ed,Ma as ae,N as td,Na as ns,O as Qe,Oa as vd,P as nd,Pa as _d,Q as fe,Qa as rs,R as L,Ra as Br,S as rd,Sa as Kn,T as B,Ta as Re,U as id,Ua as Wn,V as Z,Va as _t,W as fa,Wa as Le,X as U,Xa as tt,Y as x,Ya as wt,Z as Ne,Za as Ta,_ as Vr,_a as Aa,a as k,aa as Ur,ab as wd,b as oe,ba as Fe,bb as Hn,c as ra,ca as sd,cb as Ve,d as Mt,da as zn,db as nt,e as S,ea as yt,eb as hn,f as Gh,fa as pa,fb as dn,g as Kh,ga as ma,gb as $r,h as xr,ha as ga,hb as Ed,i as ia,ib as is,j as sa,ja as ya,jb as ba,k as Ce,ka as xe,kb as Da,l as We,la as va,lb as Vt,m as Wh,ma as un,mb as Ca,n as Hh,na as od,nb as jr,o as Ft,oa as _a,ob as Id,p as oa,pa as ad,q as aa,qa as it,r as ca,ra as wa,s as Me,sa as Ea,t as z,ta as ln,u as Lr,ua as qn,v as Qh,va as cd,w as Yh,wa as ud,x as X,xa as ld,y as ua,ya as hd,z as He,za as dd}from"./chunk-YNH7WVWY.js";var Cd=null;function Qn(){return Cd}function Rd(n){Cd??=n}var ss=class{};var de=new Z(""),Pd=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>x(Bg),providedIn:"platform"});let n=e;return n})();var Bg=(()=>{let e=class e extends Pd{constructor(){super(),this._doc=x(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qn().getBaseHref(this._doc)}onPopState(r){let i=Qn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Qn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new e,providedIn:"platform"});let n=e;return n})();function Nd(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function Td(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function fn(n){return n&&n[0]!=="?"?"?"+n:n}var os=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>x(kd),providedIn:"root"});let n=e;return n})(),$g=new Z(""),kd=(()=>{let e=class e extends os{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??x(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Nd(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+fn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,a){let c=this.prepareExternalUrl(s+fn(a));this._platformLocation.pushState(r,i,c)}replaceState(r,i,s,a){let c=this.prepareExternalUrl(s+fn(a));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(U(Pd),U($g,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Gr=(()=>{let e=class e{constructor(r){this._subject=new un,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=qg(Td(Ad(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+fn(i))}normalize(r){return e.stripTrailingSlash(zg(this._basePath,Ad(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+fn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+fn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=fn,e.joinWithSlash=Nd,e.stripTrailingSlash=Td,e.\u0275fac=function(i){return new(i||e)(U(os))},e.\u0275prov=B({token:e,factory:()=>jg(),providedIn:"root"});let n=e;return n})();function jg(){return new Gr(U(os))}function zg(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Ad(n){return n.replace(/\/index.html$/,"")}function qg(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function as(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Na=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Ra,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Sd("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Sd("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(et(ns),et(md))},e.\u0275dir=Ur({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=e;return n})(),Ra=class{constructor(){this.$implicit=null,this.ngIf=null}};function Sd(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${rd(e)}'.`)}var Od="browser",Gg="server";function cs(n){return n===Gg}var Yn=class{};var Wr=class{},ls=class{},pn=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=i.toLowerCase(),a=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let a=this.headers.get(t);if(!a)return;a=a.filter(c=>s.indexOf(c)===-1),a.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Oa=class{encodeKey(e){return Md(e)}encodeValue(e){return Md(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Qg(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[a,c]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],h=t.get(a)||[];h.push(c),t.set(a,h)}),t}var Yg=/%(\d[a-f0-9])/gi,Jg={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Md(n){return encodeURIComponent(n).replace(Yg,(e,t)=>Jg[t]??e)}function us(n){return`${n}`}var Bt=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Oa,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Qg(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(us):[us(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(us(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(us(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Ma=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Xg(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Fd(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function xd(n){return typeof Blob<"u"&&n instanceof Blob}function Ld(n){return typeof FormData<"u"&&n instanceof FormData}function Zg(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Kr=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(Xg(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new pn,this.context??=new Ma,!this.params)this.params=new Bt,this.urlWithParams=t;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),h=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+h+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Fd(this.body)||xd(this.body)||Ld(this.body)||Zg(this.body)?this.body:this.body instanceof Bt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Ld(this.body)?null:xd(this.body)?this.body.type||null:Fd(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Bt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,h=e.reportProgress??this.reportProgress,d=e.headers||this.headers,y=e.params||this.params,T=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((b,C)=>b.set(C,e.setHeaders[C]),d)),e.setParams&&(y=Object.keys(e.setParams).reduce((b,C)=>b.set(C,e.setParams[C]),y)),new n(t,r,a,{params:y,headers:d,context:T,reportProgress:h,responseType:i,withCredentials:c,transferCache:s})}},Jn=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Jn||{}),Hr=class{constructor(e,t=fs.Ok,r="OK"){this.headers=e.headers||new pn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Fa=class n extends Hr{constructor(e={}){super(e),this.type=Jn.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},hs=class n extends Hr{constructor(e={}){super(e),this.type=Jn.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ds=class extends Hr{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},fs=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(fs||{});function ka(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var ey=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let a;if(r instanceof Kr)a=r;else{let d;s.headers instanceof pn?d=s.headers:d=new pn(s.headers);let y;s.params&&(s.params instanceof Bt?y=s.params:y=new Bt({fromObject:s.params})),a=new Kr(r,i,s.body!==void 0?s.body:null,{headers:d,context:s.context,params:y,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let c=z(a).pipe(an(d=>this.handler.handle(d)));if(r instanceof Kr||s.observe==="events")return c;let h=c.pipe(xt(d=>d instanceof hs));switch(s.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return h.pipe(X(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return h.pipe(X(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return h.pipe(X(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return h.pipe(X(d=>d.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Bt().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,ka(s,i))}post(r,i,s={}){return this.request("POST",r,ka(s,i))}put(r,i,s={}){return this.request("PUT",r,ka(s,i))}};e.\u0275fac=function(i){return new(i||e)(U(Wr))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let n=e;return n})();function ty(n,e){return e(n)}function ny(n,e,t){return(r,i)=>yt(t,()=>e(r,s=>n(s,i)))}var Bd=new Z(""),ry=new Z(""),iy=new Z("");var Vd=(()=>{let e=class e extends Wr{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=x(rs);let s=x(iy,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Bd),...this.injector.get(ry,[])]));this.chain=s.reduceRight((a,c)=>ny(a,c,this.injector),ty)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(jn(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(U(ls),U(zn))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let n=e;return n})();var sy=/^\)\]\}',?\n/;function oy(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var Ud=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new L(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Me(i.\u0275loadImpl()):z(null)).pipe(Qe(()=>new xr(a=>{let c=i.build();if(c.open(r.method,r.urlWithParams),r.withCredentials&&(c.withCredentials=!0),r.headers.forEach((P,F)=>c.setRequestHeader(P,F.join(","))),r.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let P=r.detectContentTypeHeader();P!==null&&c.setRequestHeader("Content-Type",P)}if(r.responseType){let P=r.responseType.toLowerCase();c.responseType=P!=="json"?P:"text"}let h=r.serializeBody(),d=null,y=()=>{if(d!==null)return d;let P=c.statusText||"OK",F=new pn(c.getAllResponseHeaders()),G=oy(c)||r.url;return d=new Fa({headers:F,status:c.status,statusText:P,url:G}),d},T=()=>{let{headers:P,status:F,statusText:G,url:H}=y(),j=null;F!==fs.NoContent&&(j=typeof c.response>"u"?c.responseText:c.response),F===0&&(F=j?fs.Ok:0);let ye=F>=200&&F<300;if(r.responseType==="json"&&typeof j=="string"){let te=j;j=j.replace(sy,"");try{j=j!==""?JSON.parse(j):null}catch(_){j=te,ye&&(ye=!1,j={error:_,text:j})}}ye?(a.next(new hs({body:j,headers:P,status:F,statusText:G,url:H||void 0})),a.complete()):a.error(new ds({error:j,headers:P,status:F,statusText:G,url:H||void 0}))},b=P=>{let{url:F}=y(),G=new ds({error:P,status:c.status||0,statusText:c.statusText||"Unknown Error",url:F||void 0});a.error(G)},C=!1,D=P=>{C||(a.next(y()),C=!0);let F={type:Jn.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(F.total=P.total),r.responseType==="text"&&c.responseText&&(F.partialText=c.responseText),a.next(F)},N=P=>{let F={type:Jn.UploadProgress,loaded:P.loaded};P.lengthComputable&&(F.total=P.total),a.next(F)};return c.addEventListener("load",T),c.addEventListener("error",b),c.addEventListener("timeout",b),c.addEventListener("abort",b),r.reportProgress&&(c.addEventListener("progress",D),h!==null&&c.upload&&c.upload.addEventListener("progress",N)),c.send(h),a.next({type:Jn.Sent}),()=>{c.removeEventListener("error",b),c.removeEventListener("abort",b),c.removeEventListener("load",T),c.removeEventListener("timeout",b),r.reportProgress&&(c.removeEventListener("progress",D),h!==null&&c.upload&&c.upload.removeEventListener("progress",N)),c.readyState!==c.DONE&&c.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(U(Yn))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let n=e;return n})(),$d=new Z(""),ay="XSRF-TOKEN",cy=new Z("",{providedIn:"root",factory:()=>ay}),uy="X-XSRF-TOKEN",ly=new Z("",{providedIn:"root",factory:()=>uy}),ps=class{},hy=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=as(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(U(de),U(it),U(cy))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let n=e;return n})();function dy(n,e){let t=n.url.toLowerCase();if(!x($d)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=x(ps).getToken(),i=x(ly);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function jd(...n){let e=[ey,Ud,Vd,{provide:Wr,useExisting:Vd},{provide:ls,useExisting:Ud},{provide:Bd,useValue:dy,multi:!0},{provide:$d,useValue:!0},{provide:ps,useClass:hy}];for(let t of n)e.push(...t.\u0275providers);return Fe(e)}var Va=class extends ss{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ua=class n extends Va{static makeCurrent(){Rd(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=py();return t==null?null:my(t)}resetBaseElement(){Qr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return as(document.cookie,e)}},Qr=null;function py(){return Qr=Qr||document.querySelector("base"),Qr?Qr.getAttribute("href"):null}function my(n){return new URL(n,document.baseURI).pathname}var gy=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let n=e;return n})(),Ba=new Z(""),Gd=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(a=>a.supports(r)),!i)throw new L(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(U(Ba),U(ae))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let n=e;return n})(),ms=class{constructor(e){this._doc=e}},xa="ng-app-id",Kd=(()=>{let e=class e{constructor(r,i,s,a={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=cs(a),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${xa}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let a=s.get(r);return a.usage+=i,a.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,a=s?.get(i);if(a?.parentNode===r)return s.delete(i),a.removeAttribute(xa),a;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(xa,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),a=this.styleRef,c=a.get(i)?.elements;c?c.push(s):a.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(U(de),U(_a),U(Ea,8),U(it))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let n=e;return n})(),La={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ja=/%COMP%/g,Wd="%COMP%",yy=`_nghost-${Wd}`,vy=`_ngcontent-${Wd}`,_y=!0,wy=new Z("",{providedIn:"root",factory:()=>_y});function Ey(n){return vy.replace(ja,n)}function Iy(n){return yy.replace(ja,n)}function Hd(n,e){return e.map(t=>t.replace(ja,n))}var gs=(()=>{let e=class e{constructor(r,i,s,a,c,h,d,y=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=a,this.doc=c,this.platformId=h,this.ngZone=d,this.nonce=y,this.rendererByCompId=new Map,this.platformIsServer=cs(h),this.defaultRenderer=new Yr(r,c,d,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Vr.ShadowDom&&(i=oe(k({},i),{encapsulation:Vr.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof ys?s.applyToHost(r):s instanceof Jr&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,a=s.get(i.id);if(!a){let c=this.doc,h=this.ngZone,d=this.eventManager,y=this.sharedStylesHost,T=this.removeStylesOnCompDestroy,b=this.platformIsServer;switch(i.encapsulation){case Vr.Emulated:a=new ys(d,y,i,this.appId,T,c,h,b);break;case Vr.ShadowDom:return new $a(d,y,r,i,c,h,this.nonce,b);default:a=new Jr(d,y,i,T,c,h,b);break}s.set(i.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(U(Gd),U(Kd),U(_a),U(wy),U(de),U(it),U(ae),U(Ea))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let n=e;return n})(),Yr=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(La[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(zd(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(zd(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=La[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=La[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Gn.DashCase|Gn.Important)?e.style.setProperty(t,r,i&Gn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Gn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Qn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function zd(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var $a=class extends Yr{constructor(e,t,r,i,s,a,c,h){super(e,s,a,h),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=Hd(i.id,i.styles);for(let y of d){let T=document.createElement("style");c&&T.setAttribute("nonce",c),T.textContent=y,this.shadowRoot.appendChild(T)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Jr=class extends Yr{constructor(e,t,r,i,s,a,c,h){super(e,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=h?Hd(h,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ys=class extends Jr{constructor(e,t,r,i,s,a,c,h){let d=i+"-"+r.id;super(e,t,r,s,a,c,h,d),this.contentAttr=Ey(d),this.hostAttr=Iy(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},Ty=(()=>{let e=class e extends ms{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(U(de))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let n=e;return n})(),qd=["alt","control","meta","shift"],Ay={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sy={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},by=(()=>{let e=class e extends ms{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let a=e.parseEventName(i),c=e.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qn().onAndCancel(r,a.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let a=e._normalizeKey(i.pop()),c="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),c="code."),qd.forEach(y=>{let T=i.indexOf(y);T>-1&&(i.splice(T,1),c+=y+".")}),c+=a,i.length!=0||a.length===0)return null;let d={};return d.domEventName=s,d.fullKey=c,d}static matchEventFullKeyCode(r,i){let s=Ay[r.key]||r.key,a="";return i.indexOf("code.")>-1&&(s=r.code,a="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),qd.forEach(c=>{if(c!==s){let h=Sy[c];h(r)&&(a+=c+".")}}),a+=s,a===i)}static eventCallback(r,i,s){return a=>{e.matchEventFullKeyCode(a,r)&&s.runGuarded(()=>i(a))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(U(de))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let n=e;return n})();function Qd(n,e){return Id(k({rootComponent:n},Dy(e)))}function Dy(n){return{appProviders:[...ky,...n?.providers??[]],platformProviders:Ny}}function Cy(){Ua.makeCurrent()}function Ry(){return new va}function Py(){return od(document),document}var Ny=[{provide:it,useValue:Od},{provide:ad,useValue:Cy,multi:!0},{provide:de,useFactory:Py,deps:[]}];var ky=[{provide:sd,useValue:"root"},{provide:va,useFactory:Ry,deps:[]},{provide:Ba,useClass:Ty,multi:!0,deps:[de,ae,it]},{provide:Ba,useClass:by,multi:!0,deps:[de]},gs,Kd,Gd,{provide:es,useExisting:gs},{provide:Yn,useClass:gy,deps:[]},[]];var Yd=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(U(de))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var za=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=U(Oy),s},providedIn:"root"});let n=e;return n})(),Oy=(()=>{let e=class e extends za{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case vt.NONE:return i;case vt.HTML:return qn(i,"HTML")?ln(i):pd(this._doc,String(i)).toString();case vt.STYLE:return qn(i,"Style")?ln(i):i;case vt.SCRIPT:if(qn(i,"Script"))return ln(i);throw new L(5200,!1);case vt.URL:return qn(i,"URL")?ln(i):fd(String(i));case vt.RESOURCE_URL:if(qn(i,"ResourceURL"))return ln(i);throw new L(5201,!1);default:throw new L(5202,!1)}}bypassSecurityTrustHtml(r){return cd(r)}bypassSecurityTrustStyle(r){return ud(r)}bypassSecurityTrustScript(r){return ld(r)}bypassSecurityTrustUrl(r){return hd(r)}bypassSecurityTrustResourceUrl(r){return dd(r)}};e.\u0275fac=function(i){return new(i||e)(U(de))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var K="primary",di=Symbol("RouteTitle"),Ha=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function nr(n){return new Ha(n)}function My(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let a=r[s],c=n[s];if(a.startsWith(":"))i[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Fy(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!st(n[t],e[t]))return!1;return!0}function st(n,e){let t=n?Qa(n):void 0,r=e?Qa(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!rf(n[i],e[i]))return!1;return!0}function Qa(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function rf(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function sf(n){return n.length>0?n[n.length-1]:null}function zt(n){return Qh(n)?n:ba(n)?Me(Promise.resolve(n)):z(n)}var xy={exact:af,subset:cf},of={exact:Ly,subset:Vy,ignored:()=>!0};function Xd(n,e,t){return xy[t.paths](n.root,e.root,t.matrixParams)&&of[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Ly(n,e){return st(n,e)}function af(n,e,t){if(!gn(n.segments,e.segments)||!ws(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!af(n.children[r],e.children[r],t))return!1;return!0}function Vy(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>rf(n[t],e[t]))}function cf(n,e,t){return uf(n,e,e.segments,t)}function uf(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!gn(i,t)||e.hasChildren()||!ws(i,t,r))}else if(n.segments.length===t.length){if(!gn(n.segments,t)||!ws(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!cf(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!gn(n.segments,i)||!ws(n.segments,i,r)||!n.children[K]?!1:uf(n.children[K],e,s,r)}}function ws(n,e,t){return e.every((r,i)=>of[t](n[i].parameters,r.parameters))}var $t=class{constructor(e=new ee([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=nr(this.queryParams),this._queryParamMap}toString(){return $y.serialize(this)}},ee=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Es(this)}},mn=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=nr(this.parameters),this._parameterMap}toString(){return hf(this)}};function Uy(n,e){return gn(n,e)&&n.every((t,r)=>st(t.parameters,e[r].parameters))}function gn(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function By(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===K&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==K&&(t=t.concat(e(i,r)))}),t}var Ec=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new Ts,providedIn:"root"});let n=e;return n})(),Ts=class{parse(e){let t=new Ja(e);return new $t(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Xr(e.root,!0)}`,r=qy(e.queryParams),i=typeof e.fragment=="string"?`#${jy(e.fragment)}`:"";return`${t}${r}${i}`}},$y=new Ts;function Es(n){return n.segments.map(e=>hf(e)).join("/")}function Xr(n,e){if(!n.hasChildren())return Es(n);if(e){let t=n.children[K]?Xr(n.children[K],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==K&&r.push(`${i}:${Xr(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=By(n,(r,i)=>i===K?[Xr(n.children[K],!1)]:[`${i}:${Xr(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[K]!=null?`${Es(n)}/${t[0]}`:`${Es(n)}/(${t.join("//")})`}}function lf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vs(n){return lf(n).replace(/%3B/gi,";")}function jy(n){return encodeURI(n)}function Ya(n){return lf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Is(n){return decodeURIComponent(n)}function Zd(n){return Is(n.replace(/\+/g,"%20"))}function hf(n){return`${Ya(n.path)}${zy(n.parameters)}`}function zy(n){return Object.entries(n).map(([e,t])=>`;${Ya(e)}=${Ya(t)}`).join("")}function qy(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${vs(t)}=${vs(i)}`).join("&"):`${vs(t)}=${vs(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Gy=/^[^\/()?;#]+/;function qa(n){let e=n.match(Gy);return e?e[0]:""}var Ky=/^[^\/()?;=#]+/;function Wy(n){let e=n.match(Ky);return e?e[0]:""}var Hy=/^[^=?&#]+/;function Qy(n){let e=n.match(Hy);return e?e[0]:""}var Yy=/^[^&#]+/;function Jy(n){let e=n.match(Yy);return e?e[0]:""}var Ja=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[K]=new ee(e,t)),r}parseSegment(){let e=qa(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new mn(Is(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Wy(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=qa(this.remaining);i&&(r=i,this.capture(r))}e[Is(t)]=Is(r)}parseQueryParam(e){let t=Qy(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let a=Jy(this.remaining);a&&(r=a,this.capture(r))}let i=Zd(t),s=Zd(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=qa(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=K);let a=this.parseChildren();t[s]=Object.keys(a).length===1?a[K]:new ee([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function df(n){return n.segments.length>0?new ee([],{[K]:n}):n}function ff(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=ff(i);if(r===K&&s.segments.length===0&&s.hasChildren())for(let[a,c]of Object.entries(s.children))e[a]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new ee(n.segments,e);return Xy(t)}function Xy(n){if(n.numberOfChildren===1&&n.children[K]){let e=n.children[K];return new ee(n.segments.concat(e.segments),e.children)}return n}function rr(n){return n instanceof $t}function Zy(n,e,t=null,r=null){let i=pf(n);return mf(i,e,t,r)}function pf(n){let e;function t(s){let a={};for(let h of s.children){let d=t(h);a[h.outlet]=d}let c=new ee(s.url,a);return s===n&&(e=c),c}let r=t(n.root),i=df(r);return e??i}function mf(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Ga(i,i,i,t,r);let s=ev(e);if(s.toRoot())return Ga(i,i,new ee([],{}),t,r);let a=tv(s,i,n),c=a.processChildren?ti(a.segmentGroup,a.index,s.commands):yf(a.segmentGroup,a.index,s.commands);return Ga(i,a.segmentGroup,c,t,r)}function As(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ii(n){return typeof n=="object"&&n!=null&&n.outlets}function Ga(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([h,d])=>{s[h]=Array.isArray(d)?d.map(y=>`${y}`):`${d}`});let a;n===e?a=t:a=gf(n,e,t);let c=df(ff(a));return new $t(c,s,i)}function gf(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=gf(s,e,t)}),new ee(n.segments,r)}var Ss=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&As(r[0]))throw new L(4003,!1);let i=r.find(ii);if(i&&i!==sf(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ev(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ss(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,a)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([h,d])=>{c[h]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:a===0?(s.split("/").forEach((c,h)=>{h==0&&c==="."||(h==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Ss(t,e,r)}var er=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function tv(n,e,t){if(n.isAbsolute)return new er(e,!0,0);if(!t)return new er(e,!1,NaN);if(t.parent===null)return new er(t,!0,0);let r=As(n.commands[0])?0:1,i=t.segments.length-1+r;return nv(t,i,n.numberOfDoubleDots)}function nv(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new er(r,!1,i-s)}function rv(n){return ii(n[0])?n[0].outlets:{[K]:n}}function yf(n,e,t){if(n??=new ee([],{}),n.segments.length===0&&n.hasChildren())return ti(n,e,t);let r=iv(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new ee(n.segments.slice(0,r.pathIndex),{});return s.children[K]=new ee(n.segments.slice(r.pathIndex),n.children),ti(s,0,i)}else return r.match&&i.length===0?new ee(n.segments,{}):r.match&&!n.hasChildren()?Xa(n,e,t):r.match?ti(n,0,i):Xa(n,e,t)}function ti(n,e,t){if(t.length===0)return new ee(n.segments,{});{let r=rv(t),i={};if(Object.keys(r).some(s=>s!==K)&&n.children[K]&&n.numberOfChildren===1&&n.children[K].segments.length===0){let s=ti(n.children[K],e,t);return new ee(n.segments,s.children)}return Object.entries(r).forEach(([s,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[s]=yf(n.children[s],e,a))}),Object.entries(n.children).forEach(([s,a])=>{r[s]===void 0&&(i[s]=a)}),new ee(n.segments,i)}}function iv(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let a=n.segments[i],c=t[r];if(ii(c))break;let h=`${c}`,d=r<t.length-1?t[r+1]:null;if(i>0&&h===void 0)break;if(h&&d&&typeof d=="object"&&d.outlets===void 0){if(!tf(h,d,a))return s;r+=2}else{if(!tf(h,{},a))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Xa(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(ii(s)){let h=sv(s.outlets);return new ee(r,h)}if(i===0&&As(t[0])){let h=n.segments[e];r.push(new mn(h.path,ef(t[0]))),i++;continue}let a=ii(s)?s.outlets[K]:`${s}`,c=i<t.length-1?t[i+1]:null;a&&c&&As(c)?(r.push(new mn(a,ef(c))),i+=2):(r.push(new mn(a,{})),i++)}return new ee(r,{})}function sv(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Xa(new ee([],{}),0,r))}),e}function ef(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function tf(n,e,t){return n==t.path&&st(e,t.parameters)}var ni="imperative",Ee=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ee||{}),Ye=class{constructor(e,t){this.id=e,this.url=t}},si=class extends Ye{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Ee.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},yn=class extends Ye{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Ee.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Be=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Be||{}),Za=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Za||{}),jt=class extends Ye{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ee.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},vn=class extends Ye{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ee.NavigationSkipped}},oi=class extends Ye{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Ee.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},bs=class extends Ye{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ee.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ec=class extends Ye{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ee.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tc=class extends Ye{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ee.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},nc=class extends Ye{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ee.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rc=class extends Ye{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ee.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ic=class{constructor(e){this.route=e,this.type=Ee.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},sc=class{constructor(e){this.route=e,this.type=Ee.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},oc=class{constructor(e){this.snapshot=e,this.type=Ee.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ac=class{constructor(e){this.snapshot=e,this.type=Ee.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cc=class{constructor(e){this.snapshot=e,this.type=Ee.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uc=class{constructor(e){this.snapshot=e,this.type=Ee.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ai=class{},ci=class{constructor(e){this.url=e}};var lc=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ks,this.attachRef=null}},ks=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new lc,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Ds=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=hc(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=hc(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=dc(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return dc(e,this._root).map(t=>t.value)}};function hc(n,e){if(n===e.value)return e;for(let t of e.children){let r=hc(n,t);if(r)return r}return null}function dc(n,e){if(n===e.value)return[e];for(let t of e.children){let r=dc(n,t);if(r.length)return r.unshift(e),r}return[]}var Ue=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Zn(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Cs=class extends Ds{constructor(e,t){super(e),this.snapshot=t,Tc(this,e)}toString(){return this.snapshot.toString()}};function vf(n){let e=ov(n),t=new We([new mn("",{})]),r=new We({}),i=new We({}),s=new We({}),a=new We(""),c=new ir(t,r,s,a,i,K,n,e.root);return c.snapshot=e.root,new Cs(new Ue(c,[]),e)}function ov(n){let e={},t={},r={},i="",s=new ui([],e,r,i,t,K,n,null,{});return new Rs("",new Ue(s,[]))}var ir=class{constructor(e,t,r,i,s,a,c,h){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=c,this._futureSnapshot=h,this.title=this.dataSubject?.pipe(X(d=>d[di]))??z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>nr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>nr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ic(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),i?.data),n._resolvedData)}:r={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},i&&wf(i)&&(r.resolve[di]=i.title),r}var ui=class{get title(){return this.data?.[di]}constructor(e,t,r,i,s,a,c,h,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=c,this.routeConfig=h,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=nr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=nr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Rs=class extends Ds{constructor(e,t){super(t),this.url=e,Tc(this,t)}toString(){return _f(this._root)}};function Tc(n,e){e.value._routerState=n,e.children.forEach(t=>Tc(n,t))}function _f(n){let e=n.children.length>0?` { ${n.children.map(_f).join(", ")} } `:"";return`${n.value}${e}`}function Ka(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,st(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),st(e.params,t.params)||n.paramsSubject.next(t.params),Fy(e.url,t.url)||n.urlSubject.next(t.url),st(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function fc(n,e){let t=st(n.params,e.params)&&Uy(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||fc(n.parent,e.parent))}function wf(n){return typeof n.title=="string"||n.title===null}var Ac=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=K,this.activateEvents=new un,this.deactivateEvents=new un,this.attachEvents=new un,this.detachEvents=new un,this.parentContexts=x(ks),this.location=x(ns),this.changeDetector=x(jr),this.environmentInjector=x(zn),this.inputBinder=x(Sc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=r;let s=this.location,c=r.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,d=new pc(r,h,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:d,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ur({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[pa]});let n=e;return n})(),pc=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ir?this.route:e===ks?this.childContexts:this.parent.get(e,t)}},Sc=new Z("");function av(n,e,t){let r=li(n,e._root,t?t._root:void 0);return new Cs(r,e)}function li(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=cv(n,e,t);return new Ue(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(c=>li(n,c)),a}}let r=uv(e.value),i=e.children.map(s=>li(n,s));return new Ue(r,i)}}function cv(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return li(n,r,i);return li(n,r)})}function uv(n){return new ir(new We(n.url),new We(n.params),new We(n.queryParams),new We(n.fragment),new We(n.data),n.outlet,n.component,n)}var Ef="ngNavigationCancelingError";function If(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=rr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Tf(!1,Be.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Tf(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Ef]=!0,t.cancellationCode=e,t}function lv(n){return Af(n)&&rr(n.url)}function Af(n){return!!n&&n[Ef]}var hv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=cn({type:e,selectors:[["ng-component"]],standalone:!0,features:[dn],decls:1,vars:0,template:function(i,s){i&1&&wt(0,"router-outlet")},dependencies:[Ac],encapsulation:2});let n=e;return n})();function dv(n,e){return n.providers&&!n._injector&&(n._injector=_d(n.providers,e,`Route: ${n.path}`)),n._injector??e}function bc(n){let e=n.children&&n.children.map(bc),t=e?oe(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==K&&(t.component=hv),t}function ot(n){return n.outlet||K}function fv(n,e){let t=n.filter(r=>ot(r)===e);return t.push(...n.filter(r=>ot(r)!==e)),t}function fi(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var pv=(n,e,t,r)=>X(i=>(new mc(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),mc=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ka(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Zn(t);e.children.forEach(s=>{let a=s.value.outlet;this.deactivateRoutes(s,i[a],r),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Zn(e);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Zn(e);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Zn(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new uc(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ac(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(Ka(i),i===s)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),Ka(c.route.value),this.activateChildRoutes(e,null,a.children)}else{let c=fi(i.snapshot);a.attachRef=null,a.route=i,a.injector=c,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,r)}},Ps=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},tr=class{constructor(e,t){this.component=e,this.route=t}};function mv(n,e,t){let r=n._root,i=e?e._root:null;return Zr(r,i,t,[r.value])}function gv(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function or(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!id(n)?n:e.get(n):r}function Zr(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Zn(e);return n.children.forEach(a=>{yv(a,s[a.value.outlet],t,r.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,c])=>ri(c,t.getContext(a),i)),i}function yv(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,a=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){let h=vv(a,s,s.routeConfig.runGuardsAndResolvers);h?i.canActivateChecks.push(new Ps(r)):(s.data=a.data,s._resolvedData=a._resolvedData),s.component?Zr(n,e,c?c.children:null,r,i):Zr(n,e,t,r,i),h&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new tr(c.outlet.component,a))}else a&&ri(e,c,i),i.canActivateChecks.push(new Ps(r)),s.component?Zr(n,null,c?c.children:null,r,i):Zr(n,null,t,r,i);return i}function vv(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!gn(n.url,e.url);case"pathParamsOrQueryParamsChange":return!gn(n.url,e.url)||!st(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fc(n,e)||!st(n.queryParams,e.queryParams);case"paramsChange":default:return!fc(n,e)}}function ri(n,e,t){let r=Zn(n),i=n.value;Object.entries(r).forEach(([s,a])=>{i.component?e?ri(a,e.children.getContext(s),t):ri(a,null,t):ri(a,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new tr(e.outlet.component,i)):t.canDeactivateChecks.push(new tr(null,i)):t.canDeactivateChecks.push(new tr(null,i))}function pi(n){return typeof n=="function"}function _v(n){return typeof n=="boolean"}function wv(n){return n&&pi(n.canLoad)}function Ev(n){return n&&pi(n.canActivate)}function Iv(n){return n&&pi(n.canActivateChild)}function Tv(n){return n&&pi(n.canDeactivate)}function Av(n){return n&&pi(n.canMatch)}function Sf(n){return n instanceof Yh||n?.name==="EmptyError"}var _s=Symbol("INITIAL_VALUE");function sr(){return Qe(n=>ua(n.map(e=>e.pipe($n(1),td(_s)))).pipe(X(e=>{for(let t of e)if(t!==!0){if(t===_s)return _s;if(t===!1||t instanceof $t)return t}return!0}),xt(e=>e!==_s),$n(1)))}function Sv(n,e){return He(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return a.length===0&&s.length===0?z(oe(k({},t),{guardsResult:!0})):bv(a,r,i,n).pipe(He(c=>c&&_v(c)?Dv(r,s,n,e):z(c)),X(c=>oe(k({},t),{guardsResult:c})))})}function bv(n,e,t,r){return Me(n).pipe(He(i=>kv(i.component,i.route,t,e,r)),Lt(i=>i!==!0,!0))}function Dv(n,e,t,r){return Me(e).pipe(an(i=>Jh(Rv(i.route.parent,r),Cv(i.route,r),Nv(n,i.path,t),Pv(n,i.route,t))),Lt(i=>i!==!0,!0))}function Cv(n,e){return n!==null&&e&&e(new cc(n)),z(!0)}function Rv(n,e){return n!==null&&e&&e(new oc(n)),z(!0)}function Pv(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(s=>la(()=>{let a=fi(e)??t,c=or(s,a),h=Ev(c)?c.canActivate(e,n):yt(a,()=>c(e,n));return zt(h).pipe(Lt())}));return z(i).pipe(sr())}function Nv(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>gv(a)).filter(a=>a!==null).map(a=>la(()=>{let c=a.guards.map(h=>{let d=fi(a.node)??t,y=or(h,d),T=Iv(y)?y.canActivateChild(r,n):yt(d,()=>y(r,n));return zt(T).pipe(Lt())});return z(c).pipe(sr())}));return z(s).pipe(sr())}function kv(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return z(!0);let a=s.map(c=>{let h=fi(e)??i,d=or(c,h),y=Tv(d)?d.canDeactivate(n,e,t,r):yt(h,()=>d(n,e,t,r));return zt(y).pipe(Lt())});return z(a).pipe(sr())}function Ov(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return z(!0);let s=i.map(a=>{let c=or(a,n),h=wv(c)?c.canLoad(e,t):yt(n,()=>c(e,t));return zt(h)});return z(s).pipe(sr(),bf(r))}function bf(n){return Kh(fe(e=>{if(rr(e))throw If(n,e)}),X(e=>e===!0))}function Mv(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return z(!0);let s=i.map(a=>{let c=or(a,n),h=Av(c)?c.canMatch(e,t):yt(n,()=>c(e,t));return zt(h)});return z(s).pipe(sr(),bf(r))}var hi=class{constructor(e){this.segmentGroup=e||null}},Ns=class extends Error{constructor(e){super(),this.urlTree=e}};function Xn(n){return Lr(new hi(n))}function Fv(n){return Lr(new L(4e3,!1))}function xv(n){return Lr(Tf(!1,Be.GuardRejected))}var gc=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[K])return Fv(e.redirectTo);i=i.children[K]}}applyRedirectCommands(e,t,r){let i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new Ns(i);return i}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new $t(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),a={};return Object.entries(t.children).forEach(([c,h])=>{a[c]=this.createSegmentGroup(e,h,r,i)}),new ee(s,a)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},yc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lv(n,e,t,r,i){let s=Dc(n,e,t);return s.matched?(r=dv(e,r),Mv(r,e,t,i).pipe(X(a=>a===!0?s:k({},yc)))):z(s)}function Dc(n,e,t){if(e.path==="**")return Vv(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},yc):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||My)(t,n,e);if(!i)return k({},yc);let s={};Object.entries(i.posParams??{}).forEach(([c,h])=>{s[c]=h.path});let a=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function Vv(n){return{matched:!0,parameters:n.length>0?sf(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function nf(n,e,t,r){return t.length>0&&$v(n,t,r)?{segmentGroup:new ee(e,Bv(r,new ee(t,n.children))),slicedSegments:[]}:t.length===0&&jv(n,t,r)?{segmentGroup:new ee(n.segments,Uv(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ee(n.segments,n.children),slicedSegments:t}}function Uv(n,e,t,r){let i={};for(let s of t)if(Os(n,e,s)&&!r[ot(s)]){let a=new ee([],{});i[ot(s)]=a}return k(k({},r),i)}function Bv(n,e){let t={};t[K]=e;for(let r of n)if(r.path===""&&ot(r)!==K){let i=new ee([],{});t[ot(r)]=i}return t}function $v(n,e,t){return t.some(r=>Os(n,e,r)&&ot(r)!==K)}function jv(n,e,t){return t.some(r=>Os(n,e,r))}function Os(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function zv(n,e,t,r){return ot(n)!==r&&(r===K||!Os(e,t,n))?!1:Dc(e,n,t).matched}function qv(n,e,t){return e.length===0&&!n.children[t]}var vc=class{};function Gv(n,e,t,r,i,s,a="emptyOnly"){return new _c(n,e,t,r,i,a,s).recognize()}var Kv=31,_c=class{constructor(e,t,r,i,s,a,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=c,this.applyRedirects=new gc(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=nf(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(t=>{let r=new ui([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,{},K,this.rootComponentType,null,{}),i=new Ue(r,t),s=new Rs("",i),a=Zy(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(s._root,null),{state:s,tree:a}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,K).pipe(Bn(r=>{if(r instanceof Ns)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof hi?this.noMatchError(r):r}))}inheritParamsAndData(e,t){let r=e.value,i=Ic(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,t,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0).pipe(X(s=>s instanceof Ue?[s]:[]))}processChildren(e,t,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Me(i).pipe(an(s=>{let a=r.children[s],c=fv(t,s);return this.processSegmentGroup(e,c,a,s)}),ed((s,a)=>(s.push(...a),s)),ha(null),Zh(),He(s=>{if(s===null)return Xn(r);let a=Df(s);return Wv(a),z(a)}))}processSegment(e,t,r,i,s,a){return Me(t).pipe(an(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,a).pipe(Bn(h=>{if(h instanceof hi)return z(null);throw h}))),Lt(c=>!!c),Bn(c=>{if(Sf(c))return qv(r,i,s)?z(new vc):Xn(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,s,a,c){return zv(r,i,s,a)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,a):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,a):Xn(i):Xn(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a){let{matched:c,consumedSegments:h,positionalParamSegments:d,remainingSegments:y}=Dc(t,i,s);if(!c)return Xn(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Kv&&(this.allowRedirects=!1));let T=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,d);return this.applyRedirects.lineralizeSegments(i,T).pipe(He(b=>this.processSegment(e,r,t,b.concat(y),a,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){let a=Lv(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Qe(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Qe(({routes:h})=>{let d=r._loadedInjector??e,{consumedSegments:y,remainingSegments:T,parameters:b}=c,C=new ui(y,b,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Qv(r),ot(r),r.component??r._loadedComponent??null,r,Yv(r)),{segmentGroup:D,slicedSegments:N}=nf(t,y,T,h);if(N.length===0&&D.hasChildren())return this.processChildren(d,h,D).pipe(X(F=>F===null?null:new Ue(C,F)));if(h.length===0&&N.length===0)return z(new Ue(C,[]));let P=ot(r)===s;return this.processSegment(d,h,D,N,P?K:s,!0).pipe(X(F=>new Ue(C,F instanceof Ue?[F]:[])))}))):Xn(t)))}getChildConfig(e,t,r){return t.children?z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?z({routes:t._loadedRoutes,injector:t._loadedInjector}):Ov(e,t,r,this.urlSerializer).pipe(He(i=>i?this.configLoader.loadChildren(e,t).pipe(fe(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):xv(t))):z({routes:[],injector:e})}};function Wv(n){n.sort((e,t)=>e.value.outlet===K?-1:t.value.outlet===K?1:e.value.outlet.localeCompare(t.value.outlet))}function Hv(n){let e=n.value.routeConfig;return e&&e.path===""}function Df(n){let e=[],t=new Set;for(let r of n){if(!Hv(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Df(r.children);e.push(new Ue(r.value,i))}return e.filter(r=>!t.has(r))}function Qv(n){return n.data||{}}function Yv(n){return n.resolve||{}}function Jv(n,e,t,r,i,s){return He(a=>Gv(n,e,t,r,a.extractedUrl,i,s).pipe(X(({state:c,tree:h})=>oe(k({},a),{targetSnapshot:c,urlAfterRedirects:h}))))}function Xv(n,e){return He(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return z(t);let s=new Set(i.map(h=>h.route)),a=new Set;for(let h of s)if(!a.has(h))for(let d of Cf(h))a.add(d);let c=0;return Me(a).pipe(an(h=>s.has(h)?Zv(h,r,n,e):(h.data=Ic(h,h.parent,n).resolve,z(void 0))),fe(()=>c++),da(1),He(h=>c===a.size?z(t):Ft))})}function Cf(n){let e=n.children.map(t=>Cf(t)).flat();return[n,...e]}function Zv(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!wf(i)&&(s[di]=i.title),e_(s,n,e,r).pipe(X(a=>(n._resolvedData=a,n.data=Ic(n,n.parent,t).resolve,null)))}function e_(n,e,t,r){let i=Qa(n);if(i.length===0)return z({});let s={};return Me(i).pipe(He(a=>t_(n[a],e,t,r).pipe(Lt(),fe(c=>{s[a]=c}))),da(1),Xh(s),Bn(a=>Sf(a)?Ft:Lr(a)))}function t_(n,e,t,r){let i=fi(e)??r,s=or(n,i),a=s.resolve?s.resolve(e,t):yt(i,()=>s(e,t));return zt(a)}function Wa(n){return Qe(e=>{let t=n(e);return t?Me(t).pipe(X(()=>e)):z(e)})}var Rf=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(a=>a.outlet===K);return i}getResolvedTitleForRoute(r){return r.data[di]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>x(n_),providedIn:"root"});let n=e;return n})(),n_=(()=>{let e=class e extends Rf{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(U(Yd))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Cc=new Z("",{providedIn:"root",factory:()=>({})}),Rc=new Z(""),r_=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(Ca)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=zt(r.loadComponent()).pipe(X(Pf),fe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a}),jn(()=>{this.componentLoaders.delete(r)})),s=new sa(i,()=>new Ce).pipe(ia());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let a=i_(i,this.compiler,r,this.onLoadEndListener).pipe(jn(()=>{this.childrenLoaders.delete(i)})),c=new sa(a,()=>new Ce).pipe(ia());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function i_(n,e,t,r){return zt(n.loadChildren()).pipe(X(Pf),He(i=>i instanceof vd||Array.isArray(i)?z(i):Me(e.compileModuleAsync(i))),X(i=>{r&&r(n);let s,a,c=!1;return Array.isArray(i)?(a=i,c=!0):(s=i.create(t).injector,a=s.get(Rc,[],{optional:!0,self:!0}).flat()),{routes:a.map(bc),injector:s}}))}function s_(n){return n&&typeof n=="object"&&"default"in n}function Pf(n){return s_(n)?n.default:n}var Pc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>x(o_),providedIn:"root"});let n=e;return n})(),o_=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),a_=new Z("");var c_=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ce,this.transitionAbortSubject=new Ce,this.configLoader=x(r_),this.environmentInjector=x(zn),this.urlSerializer=x(Ec),this.rootContexts=x(ks),this.location=x(Gr),this.inputBindingEnabled=x(Sc,{optional:!0})!==null,this.titleStrategy=x(Rf),this.options=x(Cc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(Pc),this.createViewTransition=x(a_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null;let r=s=>this.events.next(new ic(s)),i=s=>this.events.next(new sc(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(oe(k(k({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new We({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ni,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xt(a=>a.id!==0),X(a=>oe(k({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Qe(a=>{let c=!1,h=!1;return z(a).pipe(Qe(d=>{if(this.navigationId>a.id)return this.cancelNavigationTransition(a,"",Be.SupersededByNewNavigation),Ft;this.currentTransition=a,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?oe(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let y=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),T=d.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!y&&T!=="reload"){let b="";return this.events.next(new vn(d.id,this.urlSerializer.serialize(d.rawUrl),b,Za.IgnoredSameUrlNavigation)),d.resolve(null),Ft}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return z(d).pipe(Qe(b=>{let C=this.transitions?.getValue();return this.events.next(new si(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),C!==this.transitions?.getValue()?Ft:Promise.resolve(b)}),Jv(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),fe(b=>{a.targetSnapshot=b.targetSnapshot,a.urlAfterRedirects=b.urlAfterRedirects,this.currentNavigation=oe(k({},this.currentNavigation),{finalUrl:b.urlAfterRedirects});let C=new bs(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(C)}));if(y&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:b,extractedUrl:C,source:D,restoredState:N,extras:P}=d,F=new si(b,this.urlSerializer.serialize(C),D,N);this.events.next(F);let G=vf(this.rootComponentType).snapshot;return this.currentTransition=a=oe(k({},d),{targetSnapshot:G,urlAfterRedirects:C,extras:oe(k({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=C,z(a)}else{let b="";return this.events.next(new vn(d.id,this.urlSerializer.serialize(d.extractedUrl),b,Za.IgnoredByUrlHandlingStrategy)),d.resolve(null),Ft}}),fe(d=>{let y=new ec(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(y)}),X(d=>(this.currentTransition=a=oe(k({},d),{guards:mv(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),a)),Sv(this.environmentInjector,d=>this.events.next(d)),fe(d=>{if(a.guardsResult=d.guardsResult,rr(d.guardsResult))throw If(this.urlSerializer,d.guardsResult);let y=new tc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(y)}),xt(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",Be.GuardRejected),!1)),Wa(d=>{if(d.guards.canActivateChecks.length)return z(d).pipe(fe(y=>{let T=new nc(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(T)}),Qe(y=>{let T=!1;return z(y).pipe(Xv(this.paramsInheritanceStrategy,this.environmentInjector),fe({next:()=>T=!0,complete:()=>{T||this.cancelNavigationTransition(y,"",Be.NoDataFromResolver)}}))}),fe(y=>{let T=new rc(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(T)}))}),Wa(d=>{let y=T=>{let b=[];T.routeConfig?.loadComponent&&!T.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(T.routeConfig).pipe(fe(C=>{T.component=C}),X(()=>{})));for(let C of T.children)b.push(...y(C));return b};return ua(y(d.targetSnapshot.root)).pipe(ha(null),$n(1))}),Wa(()=>this.afterPreactivation()),Qe(()=>{let{currentSnapshot:d,targetSnapshot:y}=a,T=this.createViewTransition?.(this.environmentInjector,d.root,y.root);return T?Me(T).pipe(X(()=>a)):z(a)}),X(d=>{let y=av(r.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=a=oe(k({},d),{targetRouterState:y}),this.currentNavigation.targetRouterState=y,a}),fe(()=>{this.events.next(new ai)}),pv(this.rootContexts,r.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),$n(1),fe({next:d=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yn(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{c=!0}}),nd(this.transitionAbortSubject.pipe(fe(d=>{throw d}))),jn(()=>{!c&&!h&&this.cancelNavigationTransition(a,"",Be.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bn(d=>{if(h=!0,Af(d))this.events.next(new jt(a.id,this.urlSerializer.serialize(a.extractedUrl),d.message,d.cancellationCode)),lv(d)?this.events.next(new ci(d.url)):a.resolve(!1);else{this.events.next(new oi(a.id,this.urlSerializer.serialize(a.extractedUrl),d,a.targetSnapshot??void 0));try{a.resolve(r.errorHandler(d))}catch(y){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(y)}}return Ft}))}))}cancelNavigationTransition(r,i,s){let a=new jt(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(a),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function u_(n){return n!==ni}var l_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>x(h_),providedIn:"root"});let n=e;return n})(),wc=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},h_=(()=>{let e=class e extends wc{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ya(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Nf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>x(d_),providedIn:"root"});let n=e;return n})(),d_=(()=>{let e=class e extends Nf{constructor(){super(...arguments),this.location=x(Gr),this.urlSerializer=x(Ec),this.options=x(Cc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(Pc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $t,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=vf(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof si)this.stateMemento=this.createStateMemento();else if(r instanceof vn)this.rawUrlTree=i.initialUrl;else if(r instanceof bs){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof ai?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof jt&&(r.code===Be.GuardRejected||r.code===Be.NoDataFromResolver)?this.restoreHistory(i):r instanceof oi?this.restoreHistory(i,!0):r instanceof yn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let a=this.browserPageId,c=k(k({},i.extras.state),this.generateNgRouterState(i.id,a));this.location.replaceState(s,"",c)}else{let a=k(k({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",a)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,a=this.currentPageId-s;a!==0?this.location.historyGo(a):this.currentUrlTree===r.finalUrl&&a===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ya(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),ei=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ei||{});function f_(n,e){n.events.pipe(xt(t=>t instanceof yn||t instanceof jt||t instanceof oi||t instanceof vn),X(t=>t instanceof yn||t instanceof vn?ei.COMPLETE:(t instanceof jt?t.code===Be.Redirect||t.code===Be.SupersededByNewNavigation:!1)?ei.REDIRECTING:ei.FAILED),xt(t=>t!==ei.REDIRECTING),$n(1)).subscribe(()=>{e()})}function p_(n){throw n}var m_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},g_={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kf=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=x(is),this.stateManager=x(Nf),this.options=x(Cc,{optional:!0})||{},this.pendingTasks=x(rs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(c_),this.urlSerializer=x(Ec),this.location=x(Gr),this.urlHandlingStrategy=x(Pc),this._events=new Ce,this.errorHandler=this.options.errorHandler||p_,this.navigated=!1,this.routeReuseStrategy=x(l_),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(Rc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(Sc,{optional:!0}),this.eventsSubscription=new Gh,this.isNgZoneEnabled=x(ae)instanceof ae&&ae.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(s!==null&&a!==null){if(this.stateManager.handleRouterEvent(i,a),i instanceof jt&&i.code!==Be.Redirect&&i.code!==Be.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof yn)this.navigated=!0;else if(i instanceof ci){let c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),h={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||u_(s.source)};this.scheduleNavigation(c,ni,null,h,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}v_(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ni,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let a={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let d=k({},s);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(a.state=d)}let h=this.parseUrl(r);this.scheduleNavigation(h,i,c,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(bc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:a,fragment:c,queryParamsHandling:h,preserveFragment:d}=i,y=d?this.currentUrlTree.fragment:c,T=null;switch(h){case"merge":T=k(k({},this.currentUrlTree.queryParams),a);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=a||null}T!==null&&(T=this.removeEmptyProps(T));let b;try{let C=s?s.snapshot:this.routerState.snapshot.root;b=pf(C)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),b=this.currentUrlTree.root}return mf(b,r,T,y??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=rr(r)?r:this.parseUrl(r),a=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(a,ni,null,i)}navigate(r,i={skipLocationChange:!1}){return y_(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=k({},m_):i===!1?s=k({},g_):s=i,rr(r))return Xd(this.currentUrlTree,r,s);let a=this.parseUrl(r);return Xd(this.currentUrlTree,a,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,a])=>(a!=null&&(i[s]=a),i),{})}scheduleNavigation(r,i,s,a,c){if(this.disposed)return Promise.resolve(!1);let h,d,y;c?(h=c.resolve,d=c.reject,y=c.promise):y=new Promise((b,C)=>{h=b,d=C});let T=this.pendingTasks.add();return f_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(T))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:a,resolve:h,reject:d,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(b=>Promise.reject(b))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function y_(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new L(4008,!1)}function v_(n){return!(n instanceof ai)&&!(n instanceof ci)}var __=new Z("");function Of(n,...e){return Fe([{provide:Rc,multi:!0,useValue:n},[],{provide:ir,useFactory:w_,deps:[kf]},{provide:Da,multi:!0,useFactory:E_},e.map(t=>t.\u0275providers)])}function w_(n){return n.routerState.root}function E_(){let n=x(xe);return e=>{let t=n.get(Vt);if(e!==t.components[0])return;let r=n.get(kf),i=n.get(I_);n.get(T_)===1&&r.initialNavigation(),n.get(A_,null,fa.Optional)?.setUpPreloading(),n.get(__,null,fa.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var I_=new Z("",{factory:()=>new Ce}),T_=new Z("",{providedIn:"root",factory:()=>1});var A_=new Z("");var Mf=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-2U32HXAE.js").then(n=>n.LoginComponent)},{path:"error",loadComponent:()=>import("./chunk-MZDN3KAR.js").then(n=>n.PageNotFoundComponent)},{path:"**",redirectTo:"error"}];var xf=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},S_=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],a=n[t++],c=n[t++],h=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{let s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Lf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],a=i+1<n.length,c=a?n[i+1]:0,h=i+2<n.length,d=h?n[i+2]:0,y=s>>2,T=(s&3)<<4|c>>4,b=(c&15)<<2|d>>6,C=d&63;h||(C=64,a||(b=64)),r.push(t[y],t[T],t[b],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(xf(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):S_(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let T=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||d==null||T==null)throw new kc;let b=s<<2|c>>4;if(r.push(b),d!==64){let C=c<<4&240|d>>2;if(r.push(C),T!==64){let D=d<<6&192|T;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},kc=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},b_=function(n){let e=xf(n);return Lf.encodeByteArray(e,!0)},mi=function(n){return b_(n).replace(/\./g,"")},Mc=function(n){try{return Lf.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function D_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var C_=()=>D_().__FIREBASE_DEFAULTS__,R_=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},P_=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Mc(n[1]);return e&&JSON.parse(e)},Fc=()=>{try{return C_()||R_()||P_()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xc=n=>{var e,t;return(t=(e=Fc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Vf=n=>{let e=xc(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Lc=()=>{var n;return(n=Fc())===null||n===void 0?void 0:n.config},Vc=n=>{var e;return(e=Fc())===null||e===void 0?void 0:e[`_${n}`]};var Ms=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Uf(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[mi(JSON.stringify(t)),mi(JSON.stringify(a)),""].join(".")}function ve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function $f(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jf(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zf(){let n=ve();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Uc(){try{return typeof indexedDB=="object"}catch{return!1}}function qf(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var N_="FirebaseError",$e=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=N_,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Et.prototype.create)}},Et=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?k_(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new $e(i,c,r)}};function k_(n,e){return n.replace(O_,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var O_=/\{\$([^}]+)}/g;function Gf(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function _n(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],a=e[i];if(Ff(s)&&Ff(a)){if(!_n(s,a))return!1}else if(s!==a)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Ff(n){return n!==null&&typeof n=="object"}function gi(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Kf(n,e){let t=new Oc(n,e);return t.subscribe.bind(t)}var Oc=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");M_(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Nc),i.error===void 0&&(i.error=Nc),i.complete===void 0&&(i.complete=Nc);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function M_(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Nc(){}var yb=4*60*60*1e3;function qt(n){return n&&n._delegate?n._delegate:n}var Je=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var wn="[DEFAULT]";var Bc=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ms;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x_(e))try{this.getOrInitializeService({instanceIdentifier:wn})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=wn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=wn){return this.instances.has(e)}getOptions(e=wn){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,a]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F_(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wn){return this.component?this.component.multipleInstances?e:wn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function F_(n){return n===wn?void 0:n}function x_(n){return n.instantiationMode==="EAGER"}var Fs=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Bc(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var L_=[],J=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(J||{}),V_={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},U_=J.INFO,B_={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},$_=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=B_[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Gt=class{constructor(e){this.name=e,this._logLevel=U_,this._logHandler=$_,this._userLogHandler=null,L_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}};var j_=(n,e)=>e.some(t=>n instanceof t),Wf,Hf;function z_(){return Wf||(Wf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q_(){return Hf||(Hf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Qf=new WeakMap,jc=new WeakMap,Yf=new WeakMap,$c=new WeakMap,qc=new WeakMap;function G_(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(at(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&Qf.set(t,n)}).catch(()=>{}),qc.set(e,n),e}function K_(n){if(jc.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});jc.set(n,e)}var zc={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return jc.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Yf.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return at(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Jf(n){zc=n(zc)}function W_(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(xs(this),e,...t);return Yf.set(r,e.sort?e.sort():[e]),at(r)}:q_().includes(n)?function(...e){return n.apply(xs(this),e),at(Qf.get(this))}:function(...e){return at(n.apply(xs(this),e))}}function H_(n){return typeof n=="function"?W_(n):(n instanceof IDBTransaction&&K_(n),j_(n,z_())?new Proxy(n,zc):n)}function at(n){if(n instanceof IDBRequest)return G_(n);if($c.has(n))return $c.get(n);let e=H_(n);return e!==n&&($c.set(n,e),qc.set(e,n)),e}var xs=n=>qc.get(n);function Zf(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let a=indexedDB.open(n,e),c=at(a);return r&&a.addEventListener("upgradeneeded",h=>{r(at(a.result),h.oldVersion,h.newVersion,at(a.transaction),h)}),t&&a.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var Q_=["get","getKey","getAll","getAllKeys","count"],Y_=["put","add","delete","clear"],Gc=new Map;function Xf(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Gc.get(e))return Gc.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Y_.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Q_.includes(t)))return;let s=function(a,...c){return S(this,null,function*(){let h=this.transaction(a,i?"readwrite":"readonly"),d=h.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),i&&h.done]))[0]})};return Gc.set(e,s),s}Jf(n=>oe(k({},n),{get:(e,t,r)=>Xf(e,t)||n.get(e,t,r),has:(e,t)=>!!Xf(e,t)||n.has(e,t)}));var Wc=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(J_(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function J_(n){let e=n.getComponent();return e?.type==="VERSION"}var Hc="@firebase/app",ep="0.10.5";var En=new Gt("@firebase/app"),X_="@firebase/app-compat",Z_="@firebase/analytics-compat",ew="@firebase/analytics",tw="@firebase/app-check-compat",nw="@firebase/app-check",rw="@firebase/auth",iw="@firebase/auth-compat",sw="@firebase/database",ow="@firebase/database-compat",aw="@firebase/functions",cw="@firebase/functions-compat",uw="@firebase/installations",lw="@firebase/installations-compat",hw="@firebase/messaging",dw="@firebase/messaging-compat",fw="@firebase/performance",pw="@firebase/performance-compat",mw="@firebase/remote-config",gw="@firebase/remote-config-compat",yw="@firebase/storage",vw="@firebase/storage-compat",_w="@firebase/firestore",ww="@firebase/vertexai-preview",Ew="@firebase/firestore-compat",Iw="firebase",Tw="10.12.2";var Qc="[DEFAULT]",Aw={[Hc]:"fire-core",[X_]:"fire-core-compat",[ew]:"fire-analytics",[Z_]:"fire-analytics-compat",[nw]:"fire-app-check",[tw]:"fire-app-check-compat",[rw]:"fire-auth",[iw]:"fire-auth-compat",[sw]:"fire-rtdb",[ow]:"fire-rtdb-compat",[aw]:"fire-fn",[cw]:"fire-fn-compat",[uw]:"fire-iid",[lw]:"fire-iid-compat",[hw]:"fire-fcm",[dw]:"fire-fcm-compat",[fw]:"fire-perf",[pw]:"fire-perf-compat",[mw]:"fire-rc",[gw]:"fire-rc-compat",[yw]:"fire-gcs",[vw]:"fire-gcs-compat",[_w]:"fire-fst",[Ew]:"fire-fst-compat",[ww]:"fire-vertex","fire-js":"fire-js",[Iw]:"fire-js-all"};var yi=new Map,Sw=new Map,Yc=new Map;function tp(n,e){try{n.container.addComponent(e)}catch(t){En.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wt(n){let e=n.name;if(Yc.has(e))return En.debug(`There were multiple attempts to register component ${e}.`),!1;Yc.set(e,n);for(let t of yi.values())tp(t,n);for(let t of Sw.values())tp(t,n);return!0}function _i(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function It(n){return n.settings!==void 0}var bw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kt=new Et("app","Firebase",bw);var Jc=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Je("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kt.create("app-deleted",{appName:this._name})}};var Ht=Tw;function eu(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Qc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Kt.create("bad-app-name",{appName:String(i)});if(t||(t=Lc()),!t)throw Kt.create("no-options");let s=yi.get(i);if(s){if(_n(t,s.options)&&_n(r,s.config))return s;throw Kt.create("duplicate-app",{appName:i})}let a=new Fs(i);for(let h of Yc.values())a.addComponent(h);let c=new Jc(t,r,a);return yi.set(i,c),c}function ar(n=Qc){let e=yi.get(n);if(!e&&n===Qc&&Lc())return eu();if(!e)throw Kt.create("no-app",{appName:n});return e}function Ls(){return Array.from(yi.values())}function me(n,e,t){var r;let i=(r=Aw[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),En.warn(c.join(" "));return}Wt(new Je(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Dw="firebase-heartbeat-database",Cw=1,vi="firebase-heartbeat-store",Kc=null;function sp(){return Kc||(Kc=Zf(Dw,Cw,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vi)}catch(t){console.warn(t)}}}}).catch(n=>{throw Kt.create("idb-open",{originalErrorMessage:n.message})})),Kc}function Rw(n){return S(this,null,function*(){try{let t=(yield sp()).transaction(vi),r=yield t.objectStore(vi).get(op(n));return yield t.done,r}catch(e){if(e instanceof $e)En.warn(e.message);else{let t=Kt.create("idb-get",{originalErrorMessage:e?.message});En.warn(t.message)}}})}function np(n,e){return S(this,null,function*(){try{let r=(yield sp()).transaction(vi,"readwrite");yield r.objectStore(vi).put(e,op(n)),yield r.done}catch(t){if(t instanceof $e)En.warn(t.message);else{let r=Kt.create("idb-set",{originalErrorMessage:t?.message});En.warn(r.message)}}})}function op(n){return`${n.name}!${n.options.appId}`}var Pw=1024,Nw=30*24*60*60*1e3,Xc=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Zc(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,t;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rp();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let c=new Date(a.date).valueOf();return Date.now()-c<=Nw}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return S(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=rp(),{heartbeatsToSend:r,unsentEntries:i}=kw(this._heartbeatsCache.heartbeats),s=mi(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function rp(){return new Date().toISOString().substring(0,10)}function kw(n,e=Pw){let t=[],r=n.slice();for(let i of n){let s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),ip(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),ip(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Zc=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return Uc()?qf().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Rw(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return np(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return np(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ip(n){return mi(JSON.stringify({version:2,heartbeats:n})).length}function Ow(n){Wt(new Je("platform-logger",e=>new Wc(e),"PRIVATE")),Wt(new Je("heartbeat",e=>new Xc(e),"PRIVATE")),me(Hc,ep,n),me(Hc,ep,"esm2017"),me("fire-js","")}Ow("");var Mw="firebase",Fw="10.12.2";me(Mw,Fw,"app");var Tn=new $r("ANGULARFIRE2_VERSION");function Us(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(a=>a.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var wi=(n,e)=>{let t=e?[e]:Ls(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r},ur=class{constructor(){return wi(xw)}},xw="app-check";function cr(){}var Vs=class{zone;delegate;constructor(e,t=Hh){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(a){i.runGuarded(()=>{e.apply(this,[a])})};return this.delegate.schedule(s,t,r)}},tu=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cr,{},cr,cr)),t.pipe(fe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},lr=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Vs(Zone.current)),this.insideAngular=t.run(()=>new Vs(Zone.current,Wh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(U(ae))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bs(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function Lw(n){return Bs().ngZone.runOutsideAngular(()=>n())}function In(n){return Bs().ngZone.run(()=>n())}function Vw(n){return Uw(Bs())(n)}function Uw(n){return function(t){return t=t.lift(new tu(n.ngZone)),t.pipe(ca(n.outsideAngular),aa(n.insideAngular))}}var Bw=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),In(()=>n.apply(void 0,r))},hr=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=In(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",cr,{},cr,cr))),r[s]=Bw(r[s],t));let i=Lw(()=>n.apply(this,r));if(!e)if(i instanceof xr){let s=Bs();return i.pipe(ca(s.outsideAngular),aa(s.insideAngular))}else return In(()=>i);return i instanceof xr?i.pipe(Vw):i instanceof Promise?In(()=>new Promise((s,a)=>i.then(c=>In(()=>s(c)),c=>In(()=>a(c))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:In(()=>i)};var Tt=class{constructor(e){return e}},An=class{constructor(){return Ls()}};function $w(n){return n&&n.length===1?n[0]:new Tt(ar())}var nu=new Z("angularfire2._apps"),jw={provide:Tt,useFactory:$w,deps:[[new Ne,nu]]},zw={provide:An,deps:[[new Ne,nu]]};function qw(n){return(e,t)=>{let r=t.get(it);me("angularfire",Tn.full,"core"),me("angularfire",Tn.full,"app"),me("angular",Ed.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Tt(i)}}function ap(n,...e){return Fe([jw,zw,{provide:nu,useFactory:qw(n),multi:!0,deps:[ae,xe,lr,...e]}])}var cp=hr(eu,!0);function Tp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Ap=Tp,Sp=new Et("auth","Firebase",Tp());var Ks=new Gt("@firebase/auth");function Gw(n,...e){Ks.logLevel<=J.WARN&&Ks.warn(`Auth (${Ht}): ${n}`,...e)}function js(n,...e){Ks.logLevel<=J.ERROR&&Ks.error(`Auth (${Ht}): ${n}`,...e)}function Yt(n,...e){throw Iu(n,...e)}function bn(n,...e){return Iu(n,...e)}function bp(n,e,t){let r=Object.assign(Object.assign({},Ap()),{[e]:t});return new Et("auth","Firebase",r).create(e,{appName:n.name})}function Sn(n){return bp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iu(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Sp.create(n,...e)}function $(n,e,...t){if(!n)throw Iu(e,...t)}function At(n){let e="INTERNAL ASSERTION FAILED: "+n;throw js(e),new Error(e)}function Jt(n,e){n||At(e)}function ou(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Kw(){return up()==="http:"||up()==="https:"}function up(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Ww(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kw()||$f()||"connection"in navigator)?navigator.onLine:!0}function Hw(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Dn=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jt(t>e,"Short delay should be less than long delay!"),this.isMobile=Bf()||jf()}get(){return Ww()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Tu(n,e){Jt(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ws=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;At("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;At("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;At("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Qw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Yw=new Dn(3e4,6e4);function Au(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function fr(s,a,c,h){return S(this,arguments,function*(n,e,t,r,i={}){return Dp(n,i,()=>S(this,null,function*(){let d={},y={};r&&(e==="GET"?y=r:d={body:JSON.stringify(r)});let T=gi(Object.assign({key:n.config.apiKey},y)).slice(1),b=yield n._getAdditionalHeaders();return b["Content-Type"]="application/json",n.languageCode&&(b["X-Firebase-Locale"]=n.languageCode),Ws.fetch()(Cp(n,n.config.apiHost,t,T),Object.assign({method:e,headers:b,referrerPolicy:"no-referrer"},d))}))})}function Dp(n,e,t){return S(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Qw),e);try{let i=new au(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let a=yield s.json();if("needConfirmation"in a)throw $s(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{let c=s.ok?a.errorMessage:a.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw $s(n,"credential-already-in-use",a);if(h==="EMAIL_EXISTS")throw $s(n,"email-already-in-use",a);if(h==="USER_DISABLED")throw $s(n,"user-disabled",a);let y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw bp(n,y,d);Yt(n,y)}}catch(i){if(i instanceof $e)throw i;Yt(n,"network-request-failed",{message:String(i)})}})}function Jw(s,a,c,h){return S(this,arguments,function*(n,e,t,r,i={}){let d=yield fr(n,e,t,r,i);return"mfaPendingCredential"in d&&Yt(n,"multi-factor-auth-required",{_serverResponse:d}),d})}function Cp(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Tu(n.config,i):`${n.config.apiScheme}://${i}`}var au=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(bn(this.auth,"network-request-failed")),Yw.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function $s(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=bn(n,e,r);return i.customData._tokenResponse=t,i}function Xw(n,e){return S(this,null,function*(){return fr(n,"POST","/v1/accounts:delete",e)})}function Rp(n,e){return S(this,null,function*(){return fr(n,"POST","/v1/accounts:lookup",e)})}function Ei(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Su(n,e=!1){return S(this,null,function*(){let t=qt(n),r=yield t.getIdToken(e),i=bu(r);$(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:Ei(ru(i.auth_time)),issuedAtTime:Ei(ru(i.iat)),expirationTime:Ei(ru(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function ru(n){return Number(n)*1e3}function bu(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return js("JWT malformed, contained fewer than 3 sections"),null;try{let i=Mc(t);return i?JSON.parse(i):(js("Failed to decode base64 JWT payload"),null)}catch(i){return js("Caught error parsing JWT payload as JSON",i?.toString()),null}}function lp(n){let e=bu(n);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ti(n,e,t=!1){return S(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof $e&&Zw(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Zw({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var cu=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),t)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ai=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ei(this.lastLoginAt),this.creationTime=Ei(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Hs(n){return S(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Ti(n,Rp(t,{idToken:r}));$(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Pp(s.providerUserInfo):[],c=eE(n.providerData,a),h=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!c?.length,y=h?d:!1,T={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ai(s.createdAt,s.lastLoginAt),isAnonymous:y};Object.assign(n,T)})}function Du(n){return S(this,null,function*(){let e=qt(n);yield Hs(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function eE(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Pp(n){return n.map(e=>{var{providerId:t}=e,r=oa(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function tE(n,e){return S(this,null,function*(){let t=yield Dp(n,{},()=>S(this,null,function*(){let r=gi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=Cp(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Ws.fetch()(a,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function nE(n,e){return S(this,null,function*(){return fr(n,"POST","/v2/accounts:revokeToken",Au(n,e))})}var Ii=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$(e.length!==0,"internal-error");let t=lp(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return S(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield tE(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new n;return r&&($(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&($(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&($(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return At("not implemented")}};function Qt(n,e){$(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var dr=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=oa(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ai(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let t=yield Ti(this,this.stsTokenManager.getToken(this.auth,e));return $(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Su(this,e)}reload(){return Du(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Hs(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(It(this.auth.app))return Promise.reject(Sn(this.auth));let e=yield this.getIdToken();return yield Ti(this,Xw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,a,c,h,d,y;let T=(r=t.displayName)!==null&&r!==void 0?r:void 0,b=(i=t.email)!==null&&i!==void 0?i:void 0,C=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,D=(a=t.photoURL)!==null&&a!==void 0?a:void 0,N=(c=t.tenantId)!==null&&c!==void 0?c:void 0,P=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,F=(d=t.createdAt)!==null&&d!==void 0?d:void 0,G=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:H,emailVerified:j,isAnonymous:ye,providerData:te,stsTokenManager:_}=t;$(H&&_,e,"internal-error");let p=Ii.fromJSON(this.name,_);$(typeof H=="string",e,"internal-error"),Qt(T,e.name),Qt(b,e.name),$(typeof j=="boolean",e,"internal-error"),$(typeof ye=="boolean",e,"internal-error"),Qt(C,e.name),Qt(D,e.name),Qt(N,e.name),Qt(P,e.name),Qt(F,e.name),Qt(G,e.name);let m=new n({uid:H,auth:e,email:b,emailVerified:j,displayName:T,isAnonymous:ye,photoURL:D,phoneNumber:C,tenantId:N,stsTokenManager:p,createdAt:F,lastLoginAt:G});return te&&Array.isArray(te)&&(m.providerData=te.map(v=>Object.assign({},v))),P&&(m._redirectEventId=P),m}static _fromIdTokenResponse(e,t,r=!1){return S(this,null,function*(){let i=new Ii;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Hs(s),s})}static _fromGetAccountInfoResponse(e,t,r){return S(this,null,function*(){let i=t.users[0];$(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Pp(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,c=new Ii;c.updateFromIdToken(r);let h=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ai(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(h,d),h})}};var hp=new Map;function St(n){Jt(n instanceof Function,"Expected a class definition");let e=hp.get(n);return e?(Jt(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,hp.set(n,e),e)}var rE=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(t,r){return S(this,null,function*(){this.storage[t]=r})}_get(t){return S(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return S(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),uu=rE;function zs(n,e,t){return`firebase:${n}:${e}:${t}`}var Qs=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=zs(this.userKey,i.apiKey,s),this.fullPersistenceKey=zs("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?dr._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return S(this,null,function*(){if(!t.length)return new n(St(uu),e,r);let i=(yield Promise.all(t.map(d=>S(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||St(uu),a=zs(r,e.config.apiKey,e.name),c=null;for(let d of t)try{let y=yield d._get(a);if(y){let T=dr._fromJSON(e,y);d!==s&&(c=T),s=d;break}}catch{}let h=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new n(s,e,r):(s=h[0],c&&(yield s._set(a,c.toJSON())),yield Promise.all(t.map(d=>S(this,null,function*(){if(d!==s)try{yield d._remove(a)}catch{}}))),new n(s,e,r))})}};function dp(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Op(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Np(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fp(e))return"Blackberry";if(xp(e))return"Webos";if(Cu(e))return"Safari";if((e.includes("chrome/")||kp(e))&&!e.includes("edge/"))return"Chrome";if(Mp(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Np(n=ve()){return/firefox\//i.test(n)}function Cu(n=ve()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kp(n=ve()){return/crios\//i.test(n)}function Op(n=ve()){return/iemobile/i.test(n)}function Mp(n=ve()){return/android/i.test(n)}function Fp(n=ve()){return/blackberry/i.test(n)}function xp(n=ve()){return/webos/i.test(n)}function ro(n=ve()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function iE(n=ve()){var e;return ro(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sE(){return zf()&&document.documentMode===10}function Lp(n=ve()){return ro(n)||Mp(n)||xp(n)||Fp(n)||/windows phone/i.test(n)||Op(n)}function oE(){try{return!!(window&&window!==window.top)}catch{return!1}}function Vp(n,e=[]){let t;switch(n){case"Browser":t=dp(ve());break;case"Worker":t=`${dp(ve())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ht}/${r}`}var lu=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((a,c)=>{try{let h=e(s);a(h)}catch(h){c(h)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function aE(t){return S(this,arguments,function*(n,e={}){return fr(n,"GET","/v2/passwordPolicy",Au(n,e))})}var cE=6,hu=class{constructor(e){var t,r,i,s;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:cE,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,a,c;let h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsUppercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsNumericCharacter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var du=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ys(this),this.idTokenSubscription=new Ys(this),this.beforeStateQueue=new lu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=St(t)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Qs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let t=yield Rp(this,{idToken:e}),r=yield dr._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var t;if(It(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,h=yield this.tryRedirectSignIn(e);(!a||a===c)&&h?.user&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield Hs(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Hw()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(It(this.app))return Promise.reject(Sn(this));let t=e?qt(e):null;return t&&$(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return S(this,null,function*(){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return It(this.app)?Promise.reject(Sn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return It(this.app)?Promise.reject(Sn(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(St(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield aE(this),t=new hu(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Et("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield nE(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&St(e)||this._popupRedirectResolver;$(t,this,"argument-error"),this.redirectPersistenceManager=yield Qs.create(this,[St(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),a=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if($(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof t=="function"){let h=e.addObserver(t,r,i);return()=>{a=!0,h()}}else{let h=e.addObserver(t);return()=>{a=!0,h()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vp(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return S(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Gw(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Ru(n){return qt(n)}var Ys=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Kf(t=>this.observer=t)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Pu={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uE(n){Pu=n}function lE(n){return Pu.loadJS(n)}function hE(){return Pu.gapiScript}function Up(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Nu(n,e){let t=_i(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(_n(s,e??{}))return i;Yt(i,"already-initialized")}return t.initialize({options:e})}function dE(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(St);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function ku(n,e,t){let r=Ru(n);$(r._canInitEmulator,r,"emulator-config-failed"),$(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=Bp(e),{host:a,port:c}=fE(e),h=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${a}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||pE()}function Bp(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function fE(n){let e=Bp(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:fp(r.substr(s.length+1))}}else{let[s,a]=r.split(":");return{host:s,port:fp(a)}}}function fp(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function pE(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Js=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return At("not implemented")}_getIdTokenResponse(e){return At("not implemented")}_linkToIdToken(e,t){return At("not implemented")}_getReauthenticationResolver(e){return At("not implemented")}};function iu(n,e){return S(this,null,function*(){return Jw(n,"POST","/v1/accounts:signInWithIdp",Au(n,e))})}var Xs=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var fu=class extends Xs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Si=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return S(this,null,function*(){let s=yield dr._fromIdTokenResponse(e,r,i),a=pp(r);return new n({user:s,providerId:a,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return S(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=pp(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function pp(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var pu=class n extends $e{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function $p(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pu._fromErrorAndOperation(n,s,e,r):s})}function mE(n,e,t=!1){return S(this,null,function*(){let r=yield Ti(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Si._forOperation(n,"link",r)})}function gE(n,e,t=!1){return S(this,null,function*(){let{auth:r}=n;if(It(r.app))return Promise.reject(Sn(r));let i="reauthenticate";try{let s=yield Ti(n,$p(r,i,e,n),t);$(s.idToken,r,"internal-error");let a=bu(s.idToken);$(a,r,"internal-error");let{sub:c}=a;return $(n.uid===c,r,"user-mismatch"),Si._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Yt(r,"user-mismatch"),s}})}function yE(n,e,t=!1){return S(this,null,function*(){if(It(n.app))return Promise.reject(Sn(n));let r="signIn",i=yield $p(n,r,e),s=yield Si._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function Ou(n,e,t,r){return qt(n).onIdTokenChanged(e,t,r)}function Mu(n,e,t){return qt(n).beforeAuthStateChanged(e,t)}var Zs="__sak";var eo=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Zs,"1"),this.storage.removeItem(Zs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function vE(){let n=ve();return Cu(n)||ro(n)}var _E=1e3,wE=10,EE=(()=>{class n extends eo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=vE()&&oE(),this.fallbackToPolling=Lp(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}let i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let c=this.storage.getItem(i);if(t.newValue!==c)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);sE()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,wE):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},_E)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return S(this,null,function*(){yield Mt(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return S(this,null,function*(){let r=yield Mt(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return S(this,null,function*(){yield Mt(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),jp=EE;var IE=(()=>{class n extends eo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Fu=IE;function TE(n){return Promise.all(n.map(e=>S(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var AE=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return S(this,null,function*(){let r=t,{eventId:i,eventType:s,data:a}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let h=Array.from(c).map(y=>S(this,null,function*(){return y(r.origin,a)})),d=yield TE(h);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function zp(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var mu=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return S(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,h)=>{let d=zp("",20);i.port1.start();let y=setTimeout(()=>{h(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(T){let b=T;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(y),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(b.data.response);break;default:clearTimeout(y),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function ct(){return window}function SE(n){ct().location.href=n}function qp(){return typeof ct().WorkerGlobalScope<"u"&&typeof ct().importScripts=="function"}function bE(){return S(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function DE(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function CE(){return qp()?self:null}var Gp="firebaseLocalStorageDb",RE=1,to="firebaseLocalStorage",Kp="fbase_key",Cn=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function io(n,e){return n.transaction([to],e?"readwrite":"readonly").objectStore(to)}function PE(){let n=indexedDB.deleteDatabase(Gp);return new Cn(n).toPromise()}function gu(){let n=indexedDB.open(Gp,RE);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(to,{keyPath:Kp})}catch(i){t(i)}}),n.addEventListener("success",()=>S(this,null,function*(){let r=n.result;r.objectStoreNames.contains(to)?e(r):(r.close(),yield PE(),e(yield gu()))}))})}function mp(n,e,t){return S(this,null,function*(){let r=io(n,!0).put({[Kp]:e,value:t});return new Cn(r).toPromise()})}function NE(n,e){return S(this,null,function*(){let t=io(n,!1).get(e),r=yield new Cn(t).toPromise();return r===void 0?null:r.value})}function gp(n,e){let t=io(n,!0).delete(e);return new Cn(t).toPromise()}var kE=800,OE=3,ME=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return S(this,null,function*(){return this.db?this.db:(this.db=yield gu(),this.db)})}_withRetries(t){return S(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>OE)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return S(this,null,function*(){return qp()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return S(this,null,function*(){this.receiver=AE._getInstance(CE()),this.receiver._subscribe("keyChanged",(t,r)=>S(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>S(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return S(this,null,function*(){var t,r;if(this.activeServiceWorker=yield bE(),!this.activeServiceWorker)return;this.sender=new mu(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return S(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||DE()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return S(this,null,function*(){try{if(!indexedDB)return!1;let t=yield gu();return yield mp(t,Zs,"1"),yield gp(t,Zs),!0}catch{}return!1})}_withPendingWrite(t){return S(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return S(this,null,function*(){return this._withPendingWrite(()=>S(this,null,function*(){return yield this._withRetries(i=>mp(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return S(this,null,function*(){let r=yield this._withRetries(i=>NE(i,t));return this.localCache[t]=r,r})}_remove(t){return S(this,null,function*(){return this._withPendingWrite(()=>S(this,null,function*(){return yield this._withRetries(r=>gp(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return S(this,null,function*(){let t=yield this._withRetries(s=>{let a=io(s,!1).getAll();return new Cn(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>S(this,null,function*(){return this._poll()}),kE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Wp=ME;var hD=Up("rcb"),dD=new Dn(3e4,6e4);function FE(n,e){return e?St(e):($(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var bi=class extends Js{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return iu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return iu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return iu(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function xE(n){return yE(n.auth,new bi(n),n.bypassAuthState)}function LE(n){let{auth:e,user:t}=n;return $(t,e,"internal-error"),gE(t,new bi(n),n.bypassAuthState)}function VE(n){return S(this,null,function*(){let{auth:e,user:t}=n;return $(t,e,"internal-error"),mE(t,new bi(n),n.bypassAuthState)})}var yu=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>S(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return S(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}let h={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(h))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xE;case"linkViaPopup":case"linkViaRedirect":return VE;case"reauthViaPopup":case"reauthViaRedirect":return LE;default:Yt(this.auth,"internal-error")}}resolve(e){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var fD=new Dn(2e3,1e4);var UE="pendingRedirect",qs=new Map,vu=class n extends yu{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return S(this,null,function*(){let e=qs.get(this.auth._key());if(!e){try{let r=(yield BE(this.resolver,this.auth))?yield Mt(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}qs.set(this.auth._key(),e)}return this.bypassAuthState||qs.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return S(this,null,function*(){if(e.type==="signInViaRedirect")return Mt(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Mt(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return S(this,null,function*(){})}cleanUp(){}};function BE(n,e){return S(this,null,function*(){let t=zE(e),r=jE(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function $E(n,e){qs.set(n._key(),e)}function jE(n){return St(n._redirectPersistence)}function zE(n){return zs(UE,n.config.apiKey,n.name)}function qE(n,e,t=!1){return S(this,null,function*(){if(It(n.app))return Promise.reject(Sn(n));let r=Ru(n),i=FE(r,e),a=yield new vu(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a})}var GE=10*60*1e3,_u=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KE(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Hp(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(bn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GE&&this.cachedEventUids.clear(),this.cachedEventUids.has(yp(e))}saveEventToCache(e){this.cachedEventUids.add(yp(e)),this.lastProcessedEventTime=Date.now()}};function yp(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Hp({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function KE(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hp(n);default:return!1}}function WE(t){return S(this,arguments,function*(n,e={}){return fr(n,"GET","/v1/projects",e)})}var HE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QE=/^https?/;function YE(n){return S(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield WE(n);for(let t of e)try{if(JE(t))return}catch{}Yt(n,"unauthorized-domain")})}function JE(n){let e=ou(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!QE.test(t))return!1;if(HE.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var XE=new Dn(3e4,6e4);function vp(){let n=ct().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ZE(n){return new Promise((e,t)=>{var r,i,s;function a(){vp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vp(),t(bn(n,"network-request-failed"))},timeout:XE.get()})}if(!((i=(r=ct().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ct().gapi)===null||s===void 0)&&s.load)a();else{let c=Up("iframefcb");return ct()[c]=()=>{gapi.load?a():t(bn(n,"network-request-failed"))},lE(`${hE()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw Gs=null,e})}var Gs=null;function eI(n){return Gs=Gs||ZE(n),Gs}var tI=new Dn(5e3,15e3),nI="__/auth/iframe",rI="emulator/auth/iframe",iI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oI(n){let e=n.config;$(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Tu(e,rI):`https://${n.config.authDomain}/${nI}`,r={apiKey:e.apiKey,appName:n.name,v:Ht},i=sI.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${gi(r).slice(1)}`}function aI(n){return S(this,null,function*(){let e=yield eI(n),t=ct().gapi;return $(t,n,"internal-error"),e.open({where:document.body,url:oI(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iI,dontclear:!0},r=>new Promise((i,s)=>S(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let a=bn(n,"network-request-failed"),c=ct().setTimeout(()=>{s(a)},tI.get());function h(){ct().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{s(a)})})))})}var cI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uI=500,lI=600,hI="_blank",dI="http://localhost",no=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function fI(n,e,t,r=uI,i=lI){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",h=Object.assign(Object.assign({},cI),{width:r.toString(),height:i.toString(),top:s,left:a}),d=ve().toLowerCase();t&&(c=kp(d)?hI:t),Np(d)&&(e=e||dI,h.scrollbars="yes");let y=Object.entries(h).reduce((b,[C,D])=>`${b}${C}=${D},`,"");if(iE(d)&&c!=="_self")return pI(e||"",c),new no(null);let T=window.open(e||"",c,y);$(T,n,"popup-blocked");try{T.focus()}catch{}return new no(T)}function pI(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var mI="__/auth/handler",gI="emulator/auth/handler",yI=encodeURIComponent("fac");function _p(n,e,t,r,i,s){return S(this,null,function*(){$(n.config.authDomain,n,"auth-domain-config-required"),$(n.config.apiKey,n,"invalid-api-key");let a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ht,eventId:i};if(e instanceof Xs){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",Gf(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[y,T]of Object.entries(s||{}))a[y]=T}if(e instanceof fu){let y=e.getScopes().filter(T=>T!=="");y.length>0&&(a.scopes=y.join(","))}n.tenantId&&(a.tid=n.tenantId);let c=a;for(let y of Object.keys(c))c[y]===void 0&&delete c[y];let h=yield n._getAppCheckToken(),d=h?`#${yI}=${encodeURIComponent(h)}`:"";return`${vI(n)}?${gi(c).slice(1)}${d}`})}function vI({config:n}){return n.emulator?Tu(n,gI):`https://${n.authDomain}/${mI}`}var su="webStorageSupport",wu=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fu,this._completeRedirectFn=qE,this._overrideRedirectResult=$E}_openPopup(e,t,r,i){return S(this,null,function*(){var s;Jt((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let a=yield _p(e,t,r,ou(),i);return fI(e,a,zp())})}_openRedirect(e,t,r,i){return S(this,null,function*(){yield this._originValidation(e);let s=yield _p(e,t,r,ou(),i);return SE(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Jt(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return S(this,null,function*(){let t=yield aI(e),r=new _u(e);return t.register("authEvent",i=>($(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(su,{type:su},i=>{var s;let a=(s=i?.[0])===null||s===void 0?void 0:s[su];a!==void 0&&t(!!a),Yt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=YE(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Lp()||Cu()||ro()}},Qp=wu;var wp="@firebase/auth",Ep="1.7.4";var Eu=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function _I(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wI(n){Wt(new Je("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;$(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let h={apiKey:a,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vp(n)},d=new du(r,i,s,h);return dE(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Wt(new Je("auth-internal",e=>{let t=Ru(e.getProvider("auth").getImmediate());return(r=>new Eu(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),me(wp,Ep,_I(n)),me(wp,Ep,"esm2017")}var EI=5*60,II=Vc("authIdTokenMaxAge")||EI,Ip=null,TI=n=>e=>S(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>II)return;let i=t?.token;Ip!==i&&(Ip=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function xu(n=ar()){let e=_i(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Nu(n,{popupRedirectResolver:Qp,persistence:[Wp,jp,Fu]}),r=Vc("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let a=TI(s.toString());Mu(t,a,()=>a(t.currentUser)),Ou(t,c=>a(c))}}let i=xc("auth");return i&&ku(t,`http://${i}`),t}function AI(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}uE({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=bn("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",AI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wI("Browser");var Yp="auth",Di=class{constructor(e){return e}},Ci=class{constructor(){return wi(Yp)}};var Lu=new Z("angularfire2.auth-instances");function vT(n,e){let t=Us(Yp,n,e);return t&&new Di(t)}function _T(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Di(r)}}var wT={provide:Ci,deps:[[new Ne,Lu]]},ET={provide:Di,useFactory:vT,deps:[[new Ne,Lu],Tt]};function Jp(n,...e){return me("angularfire",Tn.full,"auth"),Fe([ET,wT,{provide:Lu,useFactory:_T(n),multi:!0,deps:[ae,xe,lr,An,[new Ne,ur],...e]}])}var Xp=hr(xu,!0);var Zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},em={};var Vu,tm;(function(){var n;function e(_,p){function m(){}m.prototype=p.prototype,_.D=p.prototype,_.prototype=new m,_.prototype.constructor=_,_.C=function(v,w,I){for(var g=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)g[Ge-2]=arguments[Ge];return p.prototype[w].apply(v,g)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,p,m){m||(m=0);var v=Array(16);if(typeof p=="string")for(var w=0;16>w;++w)v[w]=p.charCodeAt(m++)|p.charCodeAt(m++)<<8|p.charCodeAt(m++)<<16|p.charCodeAt(m++)<<24;else for(w=0;16>w;++w)v[w]=p[m++]|p[m++]<<8|p[m++]<<16|p[m++]<<24;p=_.g[0],m=_.g[1],w=_.g[2];var I=_.g[3],g=p+(I^m&(w^I))+v[0]+3614090360&4294967295;p=m+(g<<7&4294967295|g>>>25),g=I+(w^p&(m^w))+v[1]+3905402710&4294967295,I=p+(g<<12&4294967295|g>>>20),g=w+(m^I&(p^m))+v[2]+606105819&4294967295,w=I+(g<<17&4294967295|g>>>15),g=m+(p^w&(I^p))+v[3]+3250441966&4294967295,m=w+(g<<22&4294967295|g>>>10),g=p+(I^m&(w^I))+v[4]+4118548399&4294967295,p=m+(g<<7&4294967295|g>>>25),g=I+(w^p&(m^w))+v[5]+1200080426&4294967295,I=p+(g<<12&4294967295|g>>>20),g=w+(m^I&(p^m))+v[6]+2821735955&4294967295,w=I+(g<<17&4294967295|g>>>15),g=m+(p^w&(I^p))+v[7]+4249261313&4294967295,m=w+(g<<22&4294967295|g>>>10),g=p+(I^m&(w^I))+v[8]+1770035416&4294967295,p=m+(g<<7&4294967295|g>>>25),g=I+(w^p&(m^w))+v[9]+2336552879&4294967295,I=p+(g<<12&4294967295|g>>>20),g=w+(m^I&(p^m))+v[10]+4294925233&4294967295,w=I+(g<<17&4294967295|g>>>15),g=m+(p^w&(I^p))+v[11]+2304563134&4294967295,m=w+(g<<22&4294967295|g>>>10),g=p+(I^m&(w^I))+v[12]+1804603682&4294967295,p=m+(g<<7&4294967295|g>>>25),g=I+(w^p&(m^w))+v[13]+4254626195&4294967295,I=p+(g<<12&4294967295|g>>>20),g=w+(m^I&(p^m))+v[14]+2792965006&4294967295,w=I+(g<<17&4294967295|g>>>15),g=m+(p^w&(I^p))+v[15]+1236535329&4294967295,m=w+(g<<22&4294967295|g>>>10),g=p+(w^I&(m^w))+v[1]+4129170786&4294967295,p=m+(g<<5&4294967295|g>>>27),g=I+(m^w&(p^m))+v[6]+3225465664&4294967295,I=p+(g<<9&4294967295|g>>>23),g=w+(p^m&(I^p))+v[11]+643717713&4294967295,w=I+(g<<14&4294967295|g>>>18),g=m+(I^p&(w^I))+v[0]+3921069994&4294967295,m=w+(g<<20&4294967295|g>>>12),g=p+(w^I&(m^w))+v[5]+3593408605&4294967295,p=m+(g<<5&4294967295|g>>>27),g=I+(m^w&(p^m))+v[10]+38016083&4294967295,I=p+(g<<9&4294967295|g>>>23),g=w+(p^m&(I^p))+v[15]+3634488961&4294967295,w=I+(g<<14&4294967295|g>>>18),g=m+(I^p&(w^I))+v[4]+3889429448&4294967295,m=w+(g<<20&4294967295|g>>>12),g=p+(w^I&(m^w))+v[9]+568446438&4294967295,p=m+(g<<5&4294967295|g>>>27),g=I+(m^w&(p^m))+v[14]+3275163606&4294967295,I=p+(g<<9&4294967295|g>>>23),g=w+(p^m&(I^p))+v[3]+4107603335&4294967295,w=I+(g<<14&4294967295|g>>>18),g=m+(I^p&(w^I))+v[8]+1163531501&4294967295,m=w+(g<<20&4294967295|g>>>12),g=p+(w^I&(m^w))+v[13]+2850285829&4294967295,p=m+(g<<5&4294967295|g>>>27),g=I+(m^w&(p^m))+v[2]+4243563512&4294967295,I=p+(g<<9&4294967295|g>>>23),g=w+(p^m&(I^p))+v[7]+1735328473&4294967295,w=I+(g<<14&4294967295|g>>>18),g=m+(I^p&(w^I))+v[12]+2368359562&4294967295,m=w+(g<<20&4294967295|g>>>12),g=p+(m^w^I)+v[5]+4294588738&4294967295,p=m+(g<<4&4294967295|g>>>28),g=I+(p^m^w)+v[8]+2272392833&4294967295,I=p+(g<<11&4294967295|g>>>21),g=w+(I^p^m)+v[11]+1839030562&4294967295,w=I+(g<<16&4294967295|g>>>16),g=m+(w^I^p)+v[14]+4259657740&4294967295,m=w+(g<<23&4294967295|g>>>9),g=p+(m^w^I)+v[1]+2763975236&4294967295,p=m+(g<<4&4294967295|g>>>28),g=I+(p^m^w)+v[4]+1272893353&4294967295,I=p+(g<<11&4294967295|g>>>21),g=w+(I^p^m)+v[7]+4139469664&4294967295,w=I+(g<<16&4294967295|g>>>16),g=m+(w^I^p)+v[10]+3200236656&4294967295,m=w+(g<<23&4294967295|g>>>9),g=p+(m^w^I)+v[13]+681279174&4294967295,p=m+(g<<4&4294967295|g>>>28),g=I+(p^m^w)+v[0]+3936430074&4294967295,I=p+(g<<11&4294967295|g>>>21),g=w+(I^p^m)+v[3]+3572445317&4294967295,w=I+(g<<16&4294967295|g>>>16),g=m+(w^I^p)+v[6]+76029189&4294967295,m=w+(g<<23&4294967295|g>>>9),g=p+(m^w^I)+v[9]+3654602809&4294967295,p=m+(g<<4&4294967295|g>>>28),g=I+(p^m^w)+v[12]+3873151461&4294967295,I=p+(g<<11&4294967295|g>>>21),g=w+(I^p^m)+v[15]+530742520&4294967295,w=I+(g<<16&4294967295|g>>>16),g=m+(w^I^p)+v[2]+3299628645&4294967295,m=w+(g<<23&4294967295|g>>>9),g=p+(w^(m|~I))+v[0]+4096336452&4294967295,p=m+(g<<6&4294967295|g>>>26),g=I+(m^(p|~w))+v[7]+1126891415&4294967295,I=p+(g<<10&4294967295|g>>>22),g=w+(p^(I|~m))+v[14]+2878612391&4294967295,w=I+(g<<15&4294967295|g>>>17),g=m+(I^(w|~p))+v[5]+4237533241&4294967295,m=w+(g<<21&4294967295|g>>>11),g=p+(w^(m|~I))+v[12]+1700485571&4294967295,p=m+(g<<6&4294967295|g>>>26),g=I+(m^(p|~w))+v[3]+2399980690&4294967295,I=p+(g<<10&4294967295|g>>>22),g=w+(p^(I|~m))+v[10]+4293915773&4294967295,w=I+(g<<15&4294967295|g>>>17),g=m+(I^(w|~p))+v[1]+2240044497&4294967295,m=w+(g<<21&4294967295|g>>>11),g=p+(w^(m|~I))+v[8]+1873313359&4294967295,p=m+(g<<6&4294967295|g>>>26),g=I+(m^(p|~w))+v[15]+4264355552&4294967295,I=p+(g<<10&4294967295|g>>>22),g=w+(p^(I|~m))+v[6]+2734768916&4294967295,w=I+(g<<15&4294967295|g>>>17),g=m+(I^(w|~p))+v[13]+1309151649&4294967295,m=w+(g<<21&4294967295|g>>>11),g=p+(w^(m|~I))+v[4]+4149444226&4294967295,p=m+(g<<6&4294967295|g>>>26),g=I+(m^(p|~w))+v[11]+3174756917&4294967295,I=p+(g<<10&4294967295|g>>>22),g=w+(p^(I|~m))+v[2]+718787259&4294967295,w=I+(g<<15&4294967295|g>>>17),g=m+(I^(w|~p))+v[9]+3951481745&4294967295,_.g[0]=_.g[0]+p&4294967295,_.g[1]=_.g[1]+(w+(g<<21&4294967295|g>>>11))&4294967295,_.g[2]=_.g[2]+w&4294967295,_.g[3]=_.g[3]+I&4294967295}r.prototype.u=function(_,p){p===void 0&&(p=_.length);for(var m=p-this.blockSize,v=this.B,w=this.h,I=0;I<p;){if(w==0)for(;I<=m;)i(this,_,I),I+=this.blockSize;if(typeof _=="string"){for(;I<p;)if(v[w++]=_.charCodeAt(I++),w==this.blockSize){i(this,v),w=0;break}}else for(;I<p;)if(v[w++]=_[I++],w==this.blockSize){i(this,v),w=0;break}}this.h=w,this.o+=p},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var p=1;p<_.length-8;++p)_[p]=0;var m=8*this.o;for(p=_.length-8;p<_.length;++p)_[p]=m&255,m/=256;for(this.u(_),_=Array(16),p=m=0;4>p;++p)for(var v=0;32>v;v+=8)_[m++]=this.g[p]>>>v&255;return _};function s(_,p){var m=c;return Object.prototype.hasOwnProperty.call(m,_)?m[_]:m[_]=p(_)}function a(_,p){this.h=p;for(var m=[],v=!0,w=_.length-1;0<=w;w--){var I=_[w]|0;v&&I==p||(m[w]=I,v=!1)}this.g=m}var c={};function h(_){return-128<=_&&128>_?s(_,function(p){return new a([p|0],0>p?-1:0)}):new a([_|0],0>_?-1:0)}function d(_){if(isNaN(_)||!isFinite(_))return T;if(0>_)return P(d(-_));for(var p=[],m=1,v=0;_>=m;v++)p[v]=_/m|0,m*=4294967296;return new a(p,0)}function y(_,p){if(_.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(_.charAt(0)=="-")return P(y(_.substring(1),p));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var m=d(Math.pow(p,8)),v=T,w=0;w<_.length;w+=8){var I=Math.min(8,_.length-w),g=parseInt(_.substring(w,w+I),p);8>I?(I=d(Math.pow(p,I)),v=v.j(I).add(d(g))):(v=v.j(m),v=v.add(d(g)))}return v}var T=h(0),b=h(1),C=h(16777216);n=a.prototype,n.m=function(){if(N(this))return-P(this).m();for(var _=0,p=1,m=0;m<this.g.length;m++){var v=this.i(m);_+=(0<=v?v:4294967296+v)*p,p*=4294967296}return _},n.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(D(this))return"0";if(N(this))return"-"+P(this).toString(_);for(var p=d(Math.pow(_,6)),m=this,v="";;){var w=j(m,p).g;m=F(m,w.j(p));var I=((0<m.g.length?m.g[0]:m.h)>>>0).toString(_);if(m=w,D(m))return I+v;for(;6>I.length;)I="0"+I;v=I+v}},n.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function D(_){if(_.h!=0)return!1;for(var p=0;p<_.g.length;p++)if(_.g[p]!=0)return!1;return!0}function N(_){return _.h==-1}n.l=function(_){return _=F(this,_),N(_)?-1:D(_)?0:1};function P(_){for(var p=_.g.length,m=[],v=0;v<p;v++)m[v]=~_.g[v];return new a(m,~_.h).add(b)}n.abs=function(){return N(this)?P(this):this},n.add=function(_){for(var p=Math.max(this.g.length,_.g.length),m=[],v=0,w=0;w<=p;w++){var I=v+(this.i(w)&65535)+(_.i(w)&65535),g=(I>>>16)+(this.i(w)>>>16)+(_.i(w)>>>16);v=g>>>16,I&=65535,g&=65535,m[w]=g<<16|I}return new a(m,m[m.length-1]&-2147483648?-1:0)};function F(_,p){return _.add(P(p))}n.j=function(_){if(D(this)||D(_))return T;if(N(this))return N(_)?P(this).j(P(_)):P(P(this).j(_));if(N(_))return P(this.j(P(_)));if(0>this.l(C)&&0>_.l(C))return d(this.m()*_.m());for(var p=this.g.length+_.g.length,m=[],v=0;v<2*p;v++)m[v]=0;for(v=0;v<this.g.length;v++)for(var w=0;w<_.g.length;w++){var I=this.i(v)>>>16,g=this.i(v)&65535,Ge=_.i(w)>>>16,Ct=_.i(w)&65535;m[2*v+2*w]+=g*Ct,G(m,2*v+2*w),m[2*v+2*w+1]+=I*Ct,G(m,2*v+2*w+1),m[2*v+2*w+1]+=g*Ge,G(m,2*v+2*w+1),m[2*v+2*w+2]+=I*Ge,G(m,2*v+2*w+2)}for(v=0;v<p;v++)m[v]=m[2*v+1]<<16|m[2*v];for(v=p;v<2*p;v++)m[v]=0;return new a(m,0)};function G(_,p){for(;(_[p]&65535)!=_[p];)_[p+1]+=_[p]>>>16,_[p]&=65535,p++}function H(_,p){this.g=_,this.h=p}function j(_,p){if(D(p))throw Error("division by zero");if(D(_))return new H(T,T);if(N(_))return p=j(P(_),p),new H(P(p.g),P(p.h));if(N(p))return p=j(_,P(p)),new H(P(p.g),p.h);if(30<_.g.length){if(N(_)||N(p))throw Error("slowDivide_ only works with positive integers.");for(var m=b,v=p;0>=v.l(_);)m=ye(m),v=ye(v);var w=te(m,1),I=te(v,1);for(v=te(v,2),m=te(m,2);!D(v);){var g=I.add(v);0>=g.l(_)&&(w=w.add(m),I=g),v=te(v,1),m=te(m,1)}return p=F(_,w.j(p)),new H(w,p)}for(w=T;0<=_.l(p);){for(m=Math.max(1,Math.floor(_.m()/p.m())),v=Math.ceil(Math.log(m)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),I=d(m),g=I.j(p);N(g)||0<g.l(_);)m-=v,I=d(m),g=I.j(p);D(I)&&(I=b),w=w.add(I),_=F(_,g)}return new H(w,_)}n.A=function(_){return j(this,_).h},n.and=function(_){for(var p=Math.max(this.g.length,_.g.length),m=[],v=0;v<p;v++)m[v]=this.i(v)&_.i(v);return new a(m,this.h&_.h)},n.or=function(_){for(var p=Math.max(this.g.length,_.g.length),m=[],v=0;v<p;v++)m[v]=this.i(v)|_.i(v);return new a(m,this.h|_.h)},n.xor=function(_){for(var p=Math.max(this.g.length,_.g.length),m=[],v=0;v<p;v++)m[v]=this.i(v)^_.i(v);return new a(m,this.h^_.h)};function ye(_){for(var p=_.g.length+1,m=[],v=0;v<p;v++)m[v]=_.i(v)<<1|_.i(v-1)>>>31;return new a(m,_.h)}function te(_,p){var m=p>>5;p%=32;for(var v=_.g.length-m,w=[],I=0;I<v;I++)w[I]=0<p?_.i(I+m)>>>p|_.i(I+m+1)<<32-p:_.i(I+m);return new a(w,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tm=em.Md5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=y,Vu=em.Integer=a}).apply(typeof Zp<"u"?Zp:typeof self<"u"?self:typeof window<"u"?window:{});var so=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bt={};var nm,rm,im,sm,om,am,cm,um,lm;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,l){return o==Array.prototype||o==Object.prototype||(o[u]=l.value),o};function t(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof so=="object"&&so];for(var u=0;u<o.length;++u){var l=o[u];if(l&&l.Math==Math)return l}throw Error("Cannot find global object")}var r=t(this);function i(o,u){if(u)e:{var l=r;o=o.split(".");for(var f=0;f<o.length-1;f++){var E=o[f];if(!(E in l))break e;l=l[E]}o=o[o.length-1],f=l[o],u=u(f),u!=f&&u!=null&&e(l,o,{configurable:!0,writable:!0,value:u})}}function s(o,u){o instanceof String&&(o+="");var l=0,f=!1,E={next:function(){if(!f&&l<o.length){var A=l++;return{value:u(A,o[A]),done:!1}}return f=!0,{done:!0,value:void 0}}};return E[Symbol.iterator]=function(){return E},E}i("Array.prototype.values",function(o){return o||function(){return s(this,function(u,l){return l})}});var a=a||{},c=this||self;function h(o){var u=typeof o;return u=u!="object"?u:o?Array.isArray(o)?"array":u:"null",u=="array"||u=="object"&&typeof o.length=="number"}function d(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function y(o,u,l){return o.call.apply(o.bind,arguments)}function T(o,u,l){if(!o)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var E=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(E,f),o.apply(u,E)}}return function(){return o.apply(u,arguments)}}function b(o,u,l){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:T,b.apply(null,arguments)}function C(o,u){var l=Array.prototype.slice.call(arguments,1);return function(){var f=l.slice();return f.push.apply(f,arguments),o.apply(this,f)}}function D(o,u){function l(){}l.prototype=u.prototype,o.aa=u.prototype,o.prototype=new l,o.prototype.constructor=o,o.Qb=function(f,E,A){for(var R=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)R[ne-2]=arguments[ne];return u.prototype[E].apply(f,R)}}function N(o){let u=o.length;if(0<u){let l=Array(u);for(let f=0;f<u;f++)l[f]=o[f];return l}return[]}function P(o,u){for(let l=1;l<arguments.length;l++){let f=arguments[l];if(h(f)){let E=o.length||0,A=f.length||0;o.length=E+A;for(let R=0;R<A;R++)o[E+R]=f[R]}else o.push(f)}}class F{constructor(u,l){this.i=u,this.j=l,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function G(o){return/^[\s\xa0]*$/.test(o)}function H(){var o=c.navigator;return o&&(o=o.userAgent)?o:""}function j(o){return j[" "](o),o}j[" "]=function(){};var ye=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function te(o,u,l){for(let f in o)u.call(l,o[f],f,o)}function _(o,u){for(let l in o)u.call(void 0,o[l],l,o)}function p(o){let u={};for(let l in o)u[l]=o[l];return u}let m="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(o,u){let l,f;for(let E=1;E<arguments.length;E++){f=arguments[E];for(l in f)o[l]=f[l];for(let A=0;A<m.length;A++)l=m[A],Object.prototype.hasOwnProperty.call(f,l)&&(o[l]=f[l])}}function w(o){var u=1;o=o.split(":");let l=[];for(;0<u&&o.length;)l.push(o.shift()),u--;return o.length&&l.push(o.join(":")),l}function I(o){c.setTimeout(()=>{throw o},0)}function g(){var o=W;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class Ge{constructor(){this.h=this.g=null}add(u,l){let f=Ct.get();f.set(u,l),this.h?this.h.next=f:this.g=f,this.h=f}}var Ct=new F(()=>new O,o=>o.reset());class O{constructor(){this.next=this.g=this.h=null}set(u,l){this.h=u,this.g=l,this.next=null}reset(){this.next=this.g=this.h=null}}let M,V=!1,W=new Ge,he=()=>{let o=c.Promise.resolve(void 0);M=()=>{o.then(Ke)}};var Ke=()=>{for(var o;o=g();){try{o.h.call(o.g)}catch(l){I(l)}var u=Ct;u.j(o),100>u.h&&(u.h++,o.next=u.g,u.g=o)}V=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{let l=()=>{};c.addEventListener("test",l,u),c.removeEventListener("test",l,u)}catch{}return o}();function Rt(o,u){if(re.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var l=this.type=o.type,f=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget){if(ye){e:{try{j(u.nodeName);var E=!0;break e}catch{}E=!1}E||(u=null)}}else l=="mouseover"?u=o.fromElement:l=="mouseout"&&(u=o.toElement);this.relatedTarget=u,f?(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:ko[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Rt.aa.h.call(this)}}D(Rt,re);var ko={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),ft=0;function Pe(o,u,l,f,E){this.listener=o,this.proxy=null,this.src=u,this.type=l,this.capture=!!f,this.ha=E,this.key=++ft,this.da=this.fa=!1}function pt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Pt(o){this.src=o,this.g={},this.h=0}Pt.prototype.add=function(o,u,l,f,E){var A=o.toString();o=this.g[A],o||(o=this.g[A]=[],this.h++);var R=Mo(o,u,f,E);return-1<R?(u=o[R],l||(u.fa=!1)):(u=new Pe(u,this.src,A,!!f,E),u.fa=l,o.push(u)),u};function Oo(o,u){var l=u.type;if(l in o.g){var f=o.g[l],E=Array.prototype.indexOf.call(f,u,void 0),A;(A=0<=E)&&Array.prototype.splice.call(f,E,1),A&&(pt(u),o.g[l].length==0&&(delete o.g[l],o.h--))}}function Mo(o,u,l,f){for(var E=0;E<o.length;++E){var A=o[E];if(!A.da&&A.listener==u&&A.capture==!!l&&A.ha==f)return E}return-1}var Fo="closure_lm_"+(1e6*Math.random()|0),xo={};function Gl(o,u,l,f,E){if(f&&f.once)return Wl(o,u,l,f,E);if(Array.isArray(u)){for(var A=0;A<u.length;A++)Gl(o,u[A],l,f,E);return null}return l=Bo(l),o&&o[ue]?o.K(u,l,d(f)?!!f.capture:!!f,E):Kl(o,u,l,!1,f,E)}function Kl(o,u,l,f,E,A){if(!u)throw Error("Invalid event type");var R=d(E)?!!E.capture:!!E,ne=Vo(o);if(ne||(o[Fo]=ne=new Pt(o)),l=ne.add(u,l,f,R,A),l.proxy)return l;if(f=cg(),l.proxy=f,f.src=o,f.listener=l,o.addEventListener)ie||(E=R),E===void 0&&(E=!1),o.addEventListener(u.toString(),f,E);else if(o.attachEvent)o.attachEvent(Ql(u.toString()),f);else if(o.addListener&&o.removeListener)o.addListener(f);else throw Error("addEventListener and attachEvent are unavailable.");return l}function cg(){function o(l){return u.call(o.src,o.listener,l)}let u=ug;return o}function Wl(o,u,l,f,E){if(Array.isArray(u)){for(var A=0;A<u.length;A++)Wl(o,u[A],l,f,E);return null}return l=Bo(l),o&&o[ue]?o.L(u,l,d(f)?!!f.capture:!!f,E):Kl(o,u,l,!0,f,E)}function Hl(o,u,l,f,E){if(Array.isArray(u))for(var A=0;A<u.length;A++)Hl(o,u[A],l,f,E);else f=d(f)?!!f.capture:!!f,l=Bo(l),o&&o[ue]?(o=o.i,u=String(u).toString(),u in o.g&&(A=o.g[u],l=Mo(A,l,f,E),-1<l&&(pt(A[l]),Array.prototype.splice.call(A,l,1),A.length==0&&(delete o.g[u],o.h--)))):o&&(o=Vo(o))&&(u=o.g[u.toString()],o=-1,u&&(o=Mo(u,l,f,E)),(l=-1<o?u[o]:null)&&Lo(l))}function Lo(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[ue])Oo(u.i,o);else{var l=o.type,f=o.proxy;u.removeEventListener?u.removeEventListener(l,f,o.capture):u.detachEvent?u.detachEvent(Ql(l),f):u.addListener&&u.removeListener&&u.removeListener(f),(l=Vo(u))?(Oo(l,o),l.h==0&&(l.src=null,u[Fo]=null)):pt(o)}}}function Ql(o){return o in xo?xo[o]:xo[o]="on"+o}function ug(o,u){if(o.da)o=!0;else{u=new Rt(u,this);var l=o.listener,f=o.ha||o.src;o.fa&&Lo(o),o=l.call(f,u)}return o}function Vo(o){return o=o[Fo],o instanceof Pt?o:null}var Uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bo(o){return typeof o=="function"?o:(o[Uo]||(o[Uo]=function(u){return o.handleEvent(u)}),o[Uo])}function Te(){ce.call(this),this.i=new Pt(this),this.M=this,this.F=null}D(Te,ce),Te.prototype[ue]=!0,Te.prototype.removeEventListener=function(o,u,l,f){Hl(this,o,u,l,f)};function be(o,u){var l,f=o.F;if(f)for(l=[];f;f=f.F)l.push(f);if(o=o.M,f=u.type||u,typeof u=="string")u=new re(u,o);else if(u instanceof re)u.target=u.target||o;else{var E=u;u=new re(f,o),v(u,E)}if(E=!0,l)for(var A=l.length-1;0<=A;A--){var R=u.g=l[A];E=Ui(R,f,!0,u)&&E}if(R=u.g=o,E=Ui(R,f,!0,u)&&E,E=Ui(R,f,!1,u)&&E,l)for(A=0;A<l.length;A++)R=u.g=l[A],E=Ui(R,f,!1,u)&&E}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var o=this.i,u;for(u in o.g){for(var l=o.g[u],f=0;f<l.length;f++)pt(l[f]);delete o.g[u],o.h--}}this.F=null},Te.prototype.K=function(o,u,l,f){return this.i.add(String(o),u,!1,l,f)},Te.prototype.L=function(o,u,l,f){return this.i.add(String(o),u,!0,l,f)};function Ui(o,u,l,f){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();for(var E=!0,A=0;A<u.length;++A){var R=u[A];if(R&&!R.da&&R.capture==l){var ne=R.listener,we=R.ha||R.src;R.fa&&Oo(o.i,R),E=ne.call(we,f)!==!1&&E}}return E&&!f.defaultPrevented}function Yl(o,u,l){if(typeof o=="function")l&&(o=b(o,l));else if(o&&typeof o.handleEvent=="function")o=b(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function Jl(o){o.g=Yl(()=>{o.g=null,o.i&&(o.i=!1,Jl(o))},o.l);let u=o.h;o.h=null,o.m.apply(null,u)}class lg extends ce{constructor(u,l){super(),this.m=u,this.l=l,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Jl(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(o){ce.call(this),this.h=o,this.g={}}D(Ir,ce);var Xl=[];function Zl(o){te(o.g,function(u,l){this.g.hasOwnProperty(l)&&Lo(u)},o),o.g={}}Ir.prototype.N=function(){Ir.aa.N.call(this),Zl(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $o=c.JSON.stringify,hg=c.JSON.parse,dg=class{stringify(o){return c.JSON.stringify(o,void 0)}parse(o){return c.JSON.parse(o,void 0)}};function jo(){}jo.prototype.h=null;function eh(o){return o.h||(o.h=o.i())}function th(){}var Tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zo(){re.call(this,"d")}D(zo,re);function qo(){re.call(this,"c")}D(qo,re);var nn={},nh=null;function Bi(){return nh=nh||new Te}nn.La="serverreachability";function rh(o){re.call(this,nn.La,o)}D(rh,re);function Ar(o){let u=Bi();be(u,new rh(u))}nn.STAT_EVENT="statevent";function ih(o,u){re.call(this,nn.STAT_EVENT,o),this.stat=u}D(ih,re);function De(o){let u=Bi();be(u,new ih(u,o))}nn.Ma="timingevent";function sh(o,u){re.call(this,nn.Ma,o),this.size=u}D(sh,re);function Sr(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){o()},u)}function br(){this.g=!0}br.prototype.xa=function(){this.g=!1};function fg(o,u,l,f,E,A){o.info(function(){if(o.g)if(A)for(var R="",ne=A.split("&"),we=0;we<ne.length;we++){var Y=ne[we].split("=");if(1<Y.length){var Ae=Y[0];Y=Y[1];var Se=Ae.split("_");R=2<=Se.length&&Se[1]=="type"?R+(Ae+"="+Y+"&"):R+(Ae+"=redacted&")}}else R=null;else R=A;return"XMLHTTP REQ ("+f+") [attempt "+E+"]: "+u+`
`+l+`
`+R})}function pg(o,u,l,f,E,A,R){o.info(function(){return"XMLHTTP RESP ("+f+") [ attempt "+E+"]: "+u+`
`+l+`
`+A+" "+R})}function xn(o,u,l,f){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+gg(o,l)+(f?" "+f:"")})}function mg(o,u){o.info(function(){return"TIMEOUT: "+u})}br.prototype.info=function(){};function gg(o,u){if(!o.g)return u;if(!u)return null;try{var l=JSON.parse(u);if(l){for(o=0;o<l.length;o++)if(Array.isArray(l[o])){var f=l[o];if(!(2>f.length)){var E=f[1];if(Array.isArray(E)&&!(1>E.length)){var A=E[0];if(A!="noop"&&A!="stop"&&A!="close")for(var R=1;R<E.length;R++)E[R]=""}}}}return $o(l)}catch{return u}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Go;function ji(){}D(ji,jo),ji.prototype.g=function(){return new XMLHttpRequest},ji.prototype.i=function(){return{}},Go=new ji;function Nt(o,u,l,f){this.j=o,this.i=u,this.l=l,this.R=f||1,this.U=new Ir(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ah}function ah(){this.i=null,this.g="",this.h=!1}var ch={},Ko={};function Wo(o,u,l){o.L=1,o.v=Ki(mt(u)),o.m=l,o.P=!0,uh(o,null)}function uh(o,u){o.F=Date.now(),zi(o),o.A=mt(o.v);var l=o.A,f=o.R;Array.isArray(f)||(f=[String(f)]),Th(l.i,"t",f),o.C=0,l=o.j.J,o.h=new ah,o.g=$h(o.j,l?u:null,!o.m),0<o.O&&(o.M=new lg(b(o.Y,o,o.g),o.O)),u=o.U,l=o.g,f=o.ca;var E="readystatechange";Array.isArray(E)||(E&&(Xl[0]=E.toString()),E=Xl);for(var A=0;A<E.length;A++){var R=Gl(l,E[A],f||u.handleEvent,!1,u.h||u);if(!R)break;u.g[R.key]=R}u=o.H?p(o.H):{},o.m?(o.u||(o.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,u)):(o.u="GET",o.g.ea(o.A,o.u,null,u)),Ar(),fg(o.i,o.u,o.A,o.l,o.R,o.m)}Nt.prototype.ca=function(o){o=o.target;let u=this.M;u&&gt(o)==3?u.j():this.Y(o)},Nt.prototype.Y=function(o){try{if(o==this.g)e:{let Se=gt(this.g);var u=this.g.Ba();let Un=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||Ph(this.g)))){this.J||Se!=4||u==7||(u==8||0>=Un?Ar(3):Ar(2)),Ho(this);var l=this.g.Z();this.X=l;t:if(lh(this)){var f=Ph(this.g);o="";var E=f.length,A=gt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),Dr(this);var R="";break t}this.h.i=new c.TextDecoder}for(u=0;u<E;u++)this.h.h=!0,o+=this.h.i.decode(f[u],{stream:!(A&&u==E-1)});f.length=0,this.h.g+=o,this.C=0,R=this.h.g}else R=this.g.oa();if(this.o=l==200,pg(this.i,this.u,this.A,this.l,this.R,Se,l),this.o){if(this.T&&!this.K){t:{if(this.g){var ne,we=this.g;if((ne=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(ne)){var Y=ne;break t}}Y=null}if(l=Y)xn(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qo(this,l);else{this.o=!1,this.s=3,De(12),rn(this),Dr(this);break e}}if(this.P){l=!0;let Ze;for(;!this.J&&this.C<R.length;)if(Ze=yg(this,R),Ze==Ko){Se==4&&(this.s=4,De(14),l=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ze==ch){this.s=4,De(15),xn(this.i,this.l,R,"[Invalid Chunk]"),l=!1;break}else xn(this.i,this.l,Ze,null),Qo(this,Ze);if(lh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||R.length!=0||this.h.h||(this.s=1,De(16),l=!1),this.o=this.o&&l,!l)xn(this.i,this.l,R,"[Invalid Chunked Response]"),rn(this),Dr(this);else if(0<R.length&&!this.W){this.W=!0;var Ae=this.j;Ae.g==this&&Ae.ba&&!Ae.M&&(Ae.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),ta(Ae),Ae.M=!0,De(11))}}else xn(this.i,this.l,R,null),Qo(this,R);Se==4&&rn(this),this.o&&!this.J&&(Se==4?Lh(this.j,this):(this.o=!1,zi(this)))}else Mg(this.g),l==400&&0<R.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),rn(this),Dr(this)}}}catch{}finally{}};function lh(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function yg(o,u){var l=o.C,f=u.indexOf(`
`,l);return f==-1?Ko:(l=Number(u.substring(l,f)),isNaN(l)?ch:(f+=1,f+l>u.length?Ko:(u=u.slice(f,f+l),o.C=f+l,u)))}Nt.prototype.cancel=function(){this.J=!0,rn(this)};function zi(o){o.S=Date.now()+o.I,hh(o,o.I)}function hh(o,u){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Sr(b(o.ba,o),u)}function Ho(o){o.B&&(c.clearTimeout(o.B),o.B=null)}Nt.prototype.ba=function(){this.B=null;let o=Date.now();0<=o-this.S?(mg(this.i,this.A),this.L!=2&&(Ar(),De(17)),rn(this),this.s=2,Dr(this)):hh(this,this.S-o)};function Dr(o){o.j.G==0||o.J||Lh(o.j,o)}function rn(o){Ho(o);var u=o.M;u&&typeof u.ma=="function"&&u.ma(),o.M=null,Zl(o.U),o.g&&(u=o.g,o.g=null,u.abort(),u.ma())}function Qo(o,u){try{var l=o.j;if(l.G!=0&&(l.g==o||Yo(l.h,o))){if(!o.K&&Yo(l.h,o)&&l.G==3){try{var f=l.Da.g.parse(u)}catch{f=null}if(Array.isArray(f)&&f.length==3){var E=f;if(E[0]==0){e:if(!l.u){if(l.g)if(l.g.F+3e3<o.F)Ji(l),Qi(l);else break e;ea(l),De(18)}}else l.za=E[1],0<l.za-l.T&&37500>E[2]&&l.F&&l.v==0&&!l.C&&(l.C=Sr(b(l.Za,l),6e3));if(1>=ph(l.h)&&l.ca){try{l.ca()}catch{}l.ca=void 0}}else on(l,11)}else if((o.K||l.g==o)&&Ji(l),!G(u))for(E=l.Da.g.parse(u),u=0;u<E.length;u++){let Y=E[u];if(l.T=Y[0],Y=Y[1],l.G==2)if(Y[0]=="c"){l.K=Y[1],l.ia=Y[2];let Ae=Y[3];Ae!=null&&(l.la=Ae,l.j.info("VER="+l.la));let Se=Y[4];Se!=null&&(l.Aa=Se,l.j.info("SVER="+l.Aa));let Un=Y[5];Un!=null&&typeof Un=="number"&&0<Un&&(f=1.5*Un,l.L=f,l.j.info("backChannelRequestTimeoutMs_="+f)),f=l;let Ze=o.g;if(Ze){let Zi=Ze.g?Ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var A=f.h;A.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Jo(A,A.h),A.h=null))}if(f.D){let na=Ze.g?Ze.g.getResponseHeader("X-HTTP-Session-Id"):null;na&&(f.ya=na,se(f.I,f.D,na))}}l.G=3,l.l&&l.l.ua(),l.ba&&(l.R=Date.now()-o.F,l.j.info("Handshake RTT: "+l.R+"ms")),f=l;var R=o;if(f.qa=Bh(f,f.J?f.ia:null,f.W),R.K){mh(f.h,R);var ne=R,we=f.L;we&&(ne.I=we),ne.B&&(Ho(ne),zi(ne)),f.g=R}else Fh(f);0<l.i.length&&Yi(l)}else Y[0]!="stop"&&Y[0]!="close"||on(l,7);else l.G==3&&(Y[0]=="stop"||Y[0]=="close"?Y[0]=="stop"?on(l,7):Zo(l):Y[0]!="noop"&&l.l&&l.l.ta(Y),l.v=0)}}Ar(4)}catch{}}var vg=class{constructor(o,u){this.g=o,this.map=u}};function dh(o){this.l=o||10,c.PerformanceNavigationTiming?(o=c.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fh(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ph(o){return o.h?1:o.g?o.g.size:0}function Yo(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function Jo(o,u){o.g?o.g.add(u):o.h=u}function mh(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}dh.prototype.cancel=function(){if(this.i=gh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let o of this.g.values())o.cancel();this.g.clear()}};function gh(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let u=o.i;for(let l of o.g.values())u=u.concat(l.D);return u}return N(o.i)}function _g(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(h(o)){for(var u=[],l=o.length,f=0;f<l;f++)u.push(o[f]);return u}u=[],l=0;for(f in o)u[l++]=o[f];return u}function wg(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(h(o)||typeof o=="string"){var u=[];o=o.length;for(var l=0;l<o;l++)u.push(l);return u}u=[],l=0;for(let f in o)u[l++]=f;return u}}}function yh(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(h(o)||typeof o=="string")Array.prototype.forEach.call(o,u,void 0);else for(var l=wg(o),f=_g(o),E=f.length,A=0;A<E;A++)u.call(void 0,f[A],l&&l[A],o)}var vh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eg(o,u){if(o){o=o.split("&");for(var l=0;l<o.length;l++){var f=o[l].indexOf("="),E=null;if(0<=f){var A=o[l].substring(0,f);E=o[l].substring(f+1)}else A=o[l];u(A,E?decodeURIComponent(E.replace(/\+/g," ")):"")}}}function sn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof sn){this.h=o.h,qi(this,o.j),this.o=o.o,this.g=o.g,Gi(this,o.s),this.l=o.l;var u=o.i,l=new Pr;l.i=u.i,u.g&&(l.g=new Map(u.g),l.h=u.h),_h(this,l),this.m=o.m}else o&&(u=String(o).match(vh))?(this.h=!1,qi(this,u[1]||"",!0),this.o=Cr(u[2]||""),this.g=Cr(u[3]||"",!0),Gi(this,u[4]),this.l=Cr(u[5]||"",!0),_h(this,u[6]||"",!0),this.m=Cr(u[7]||"")):(this.h=!1,this.i=new Pr(null,this.h))}sn.prototype.toString=function(){var o=[],u=this.j;u&&o.push(Rr(u,wh,!0),":");var l=this.g;return(l||u=="file")&&(o.push("//"),(u=this.o)&&o.push(Rr(u,wh,!0),"@"),o.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l=this.s,l!=null&&o.push(":",String(l))),(l=this.l)&&(this.g&&l.charAt(0)!="/"&&o.push("/"),o.push(Rr(l,l.charAt(0)=="/"?Ag:Tg,!0))),(l=this.i.toString())&&o.push("?",l),(l=this.m)&&o.push("#",Rr(l,bg)),o.join("")};function mt(o){return new sn(o)}function qi(o,u,l){o.j=l?Cr(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function Gi(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.s=u}else o.s=null}function _h(o,u,l){u instanceof Pr?(o.i=u,Dg(o.i,o.h)):(l||(u=Rr(u,Sg)),o.i=new Pr(u,o.h))}function se(o,u,l){o.i.set(u,l)}function Ki(o){return se(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Cr(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Rr(o,u,l){return typeof o=="string"?(o=encodeURI(o).replace(u,Ig),l&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Ig(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var wh=/[#\/\?@]/g,Tg=/[#\?:]/g,Ag=/[#\?]/g,Sg=/[#\?@]/g,bg=/#/g;function Pr(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function kt(o){o.g||(o.g=new Map,o.h=0,o.i&&Eg(o.i,function(u,l){o.add(decodeURIComponent(u.replace(/\+/g," ")),l)}))}n=Pr.prototype,n.add=function(o,u){kt(this),this.i=null,o=Ln(this,o);var l=this.g.get(o);return l||this.g.set(o,l=[]),l.push(u),this.h+=1,this};function Eh(o,u){kt(o),u=Ln(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function Ih(o,u){return kt(o),u=Ln(o,u),o.g.has(u)}n.forEach=function(o,u){kt(this),this.g.forEach(function(l,f){l.forEach(function(E){o.call(u,E,f,this)},this)},this)},n.na=function(){kt(this);let o=Array.from(this.g.values()),u=Array.from(this.g.keys()),l=[];for(let f=0;f<u.length;f++){let E=o[f];for(let A=0;A<E.length;A++)l.push(u[f])}return l},n.V=function(o){kt(this);let u=[];if(typeof o=="string")Ih(this,o)&&(u=u.concat(this.g.get(Ln(this,o))));else{o=Array.from(this.g.values());for(let l=0;l<o.length;l++)u=u.concat(o[l])}return u},n.set=function(o,u){return kt(this),this.i=null,o=Ln(this,o),Ih(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},n.get=function(o,u){return o?(o=this.V(o),0<o.length?String(o[0]):u):u};function Th(o,u,l){Eh(o,u),0<l.length&&(o.i=null,o.g.set(Ln(o,u),N(l)),o.h+=l.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let o=[],u=Array.from(this.g.keys());for(var l=0;l<u.length;l++){var f=u[l];let A=encodeURIComponent(String(f)),R=this.V(f);for(f=0;f<R.length;f++){var E=A;R[f]!==""&&(E+="="+encodeURIComponent(String(R[f]))),o.push(E)}}return this.i=o.join("&")};function Ln(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function Dg(o,u){u&&!o.j&&(kt(o),o.i=null,o.g.forEach(function(l,f){var E=f.toLowerCase();f!=E&&(Eh(this,f),Th(this,E,l))},o)),o.j=u}function Cg(o,u){let l=new br;if(c.Image){let f=new Image;f.onload=C(Ot,l,"TestLoadImage: loaded",!0,u,f),f.onerror=C(Ot,l,"TestLoadImage: error",!1,u,f),f.onabort=C(Ot,l,"TestLoadImage: abort",!1,u,f),f.ontimeout=C(Ot,l,"TestLoadImage: timeout",!1,u,f),c.setTimeout(function(){f.ontimeout&&f.ontimeout()},1e4),f.src=o}else u(!1)}function Rg(o,u){let l=new br,f=new AbortController,E=setTimeout(()=>{f.abort(),Ot(l,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:f.signal}).then(A=>{clearTimeout(E),A.ok?Ot(l,"TestPingServer: ok",!0,u):Ot(l,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(E),Ot(l,"TestPingServer: error",!1,u)})}function Ot(o,u,l,f,E){try{E&&(E.onload=null,E.onerror=null,E.onabort=null,E.ontimeout=null),f(l)}catch{}}function Pg(){this.g=new dg}function Ng(o,u,l){let f=l||"";try{yh(o,function(E,A){let R=E;d(E)&&(R=$o(E)),u.push(f+A+"="+encodeURIComponent(R))})}catch(E){throw u.push(f+"type="+encodeURIComponent("_badmap")),E}}function Nr(o){this.l=o.Ub||null,this.j=o.eb||!1}D(Nr,jo),Nr.prototype.g=function(){return new Wi(this.l,this.j)},Nr.prototype.i=function(o){return function(){return o}}({});function Wi(o,u){Te.call(this),this.D=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Wi,Te),n=Wi.prototype,n.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=u,this.readyState=1,Or(this)},n.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(u.body=o),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kr(this)),this.readyState=0},n.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Or(this)),this.g&&(this.readyState=3,Or(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ah(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ah(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}n.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?kr(this):Or(this),this.readyState==3&&Ah(this)}},n.Ra=function(o){this.g&&(this.response=this.responseText=o,kr(this))},n.Qa=function(o){this.g&&(this.response=o,kr(this))},n.ga=function(){this.g&&kr(this)};function kr(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Or(o)}n.setRequestHeader=function(o,u){this.u.append(o,u)},n.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let o=[],u=this.h.entries();for(var l=u.next();!l.done;)l=l.value,o.push(l[0]+": "+l[1]),l=u.next();return o.join(`\r
`)};function Or(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Sh(o){let u="";return te(o,function(l,f){u+=f,u+=":",u+=l,u+=`\r
`}),u}function Xo(o,u,l){e:{for(f in l){var f=!1;break e}f=!0}f||(l=Sh(l),typeof o=="string"?l!=null&&encodeURIComponent(String(l)):se(o,u,l))}function le(o){Te.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(le,Te);var kg=/^https?$/i,Og=["POST","PUT"];n=le.prototype,n.Ha=function(o){this.J=o},n.ea=function(o,u,l,f){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Go.g(),this.v=this.o?eh(this.o):eh(Go),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(A){bh(this,A);return}if(o=l||"",l=new Map(this.headers),f)if(Object.getPrototypeOf(f)===Object.prototype)for(var E in f)l.set(E,f[E]);else if(typeof f.keys=="function"&&typeof f.get=="function")for(let A of f.keys())l.set(A,f.get(A));else throw Error("Unknown input type for opt_headers: "+String(f));f=Array.from(l.keys()).find(A=>A.toLowerCase()=="content-type"),E=c.FormData&&o instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Og,u,void 0))||f||E||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,R]of l)this.g.setRequestHeader(A,R);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rh(this),this.u=!0,this.g.send(o),this.u=!1}catch(A){bh(this,A)}};function bh(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.m=5,Dh(o),Hi(o)}function Dh(o){o.A||(o.A=!0,be(o,"complete"),be(o,"error"))}n.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,be(this,"complete"),be(this,"abort"),Hi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),le.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ch(this):this.bb())},n.bb=function(){Ch(this)};function Ch(o){if(o.h&&typeof a<"u"&&(!o.v[1]||gt(o)!=4||o.Z()!=2)){if(o.u&&gt(o)==4)Yl(o.Ea,0,o);else if(be(o,"readystatechange"),gt(o)==4){o.h=!1;try{let R=o.Z();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var l;if(!(l=u)){var f;if(f=R===0){var E=String(o.D).match(vh)[1]||null;!E&&c.self&&c.self.location&&(E=c.self.location.protocol.slice(0,-1)),f=!kg.test(E?E.toLowerCase():"")}l=f}if(l)be(o,"complete"),be(o,"success");else{o.m=6;try{var A=2<gt(o)?o.g.statusText:""}catch{A=""}o.l=A+" ["+o.Z()+"]",Dh(o)}}finally{Hi(o)}}}}function Hi(o,u){if(o.g){Rh(o);let l=o.g,f=o.v[0]?()=>{}:null;o.g=null,o.v=null,u||be(o,"ready");try{l.onreadystatechange=f}catch{}}}function Rh(o){o.I&&(c.clearTimeout(o.I),o.I=null)}n.isActive=function(){return!!this.g};function gt(o){return o.g?o.g.readyState:0}n.Z=function(){try{return 2<gt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),hg(u)}};function Ph(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Mg(o){let u={};o=(o.g&&2<=gt(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let f=0;f<o.length;f++){if(G(o[f]))continue;var l=w(o[f]);let E=l[0];if(l=l[1],typeof l!="string")continue;l=l.trim();let A=u[E]||[];u[E]=A,A.push(l)}_(u,function(f){return f.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mr(o,u,l){return l&&l.internalChannelParams&&l.internalChannelParams[o]||u}function Nh(o){this.Aa=0,this.i=[],this.j=new br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mr("baseRetryDelayMs",5e3,o),this.cb=Mr("retryDelaySeedMs",1e4,o),this.Wa=Mr("forwardChannelMaxRetries",2,o),this.wa=Mr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new dh(o&&o.concurrentRequestLimit),this.Da=new Pg,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Nh.prototype,n.la=8,n.G=1,n.connect=function(o,u,l,f){De(0),this.W=o,this.H=u||{},l&&f!==void 0&&(this.H.OSID=l,this.H.OAID=f),this.F=this.X,this.I=Bh(this,null,this.W),Yi(this)};function Zo(o){if(kh(o),o.G==3){var u=o.U++,l=mt(o.I);if(se(l,"SID",o.K),se(l,"RID",u),se(l,"TYPE","terminate"),Fr(o,l),u=new Nt(o,o.j,u),u.L=2,u.v=Ki(mt(l)),l=!1,c.navigator&&c.navigator.sendBeacon)try{l=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!l&&c.Image&&(new Image().src=u.v,l=!0),l||(u.g=$h(u.j,null),u.g.ea(u.v)),u.F=Date.now(),zi(u)}Uh(o)}function Qi(o){o.g&&(ta(o),o.g.cancel(),o.g=null)}function kh(o){Qi(o),o.u&&(c.clearTimeout(o.u),o.u=null),Ji(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&c.clearTimeout(o.s),o.s=null)}function Yi(o){if(!fh(o.h)&&!o.s){o.s=!0;var u=o.Ga;M||he(),V||(M(),V=!0),W.add(u,o),o.B=0}}function Fg(o,u){return ph(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=u.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Sr(b(o.Ga,o,u),Vh(o,o.B)),o.B++,!0)}n.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;let E=new Nt(this,this.j,o),A=this.o;if(this.S&&(A?(A=p(A),v(A,this.S)):A=this.S),this.m!==null||this.O||(E.H=A,A=null),this.P)e:{for(var u=0,l=0;l<this.i.length;l++){t:{var f=this.i[l];if("__data__"in f.map&&(f=f.map.__data__,typeof f=="string")){f=f.length;break t}f=void 0}if(f===void 0)break;if(u+=f,4096<u){u=l;break e}if(u===4096||l===this.i.length-1){u=l+1;break e}}u=1e3}else u=1e3;u=Mh(this,E,u),l=mt(this.I),se(l,"RID",o),se(l,"CVER",22),this.D&&se(l,"X-HTTP-Session-Id",this.D),Fr(this,l),A&&(this.O?u="headers="+encodeURIComponent(String(Sh(A)))+"&"+u:this.m&&Xo(l,this.m,A)),Jo(this.h,E),this.Ua&&se(l,"TYPE","init"),this.P?(se(l,"$req",u),se(l,"SID","null"),E.T=!0,Wo(E,l,null)):Wo(E,l,u),this.G=2}}else this.G==3&&(o?Oh(this,o):this.i.length==0||fh(this.h)||Oh(this))};function Oh(o,u){var l;u?l=u.l:l=o.U++;let f=mt(o.I);se(f,"SID",o.K),se(f,"RID",l),se(f,"AID",o.T),Fr(o,f),o.m&&o.o&&Xo(f,o.m,o.o),l=new Nt(o,o.j,l,o.B+1),o.m===null&&(l.H=o.o),u&&(o.i=u.D.concat(o.i)),u=Mh(o,l,1e3),l.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Jo(o.h,l),Wo(l,f,u)}function Fr(o,u){o.H&&te(o.H,function(l,f){se(u,f,l)}),o.l&&yh({},function(l,f){se(u,f,l)})}function Mh(o,u,l){l=Math.min(o.i.length,l);var f=o.l?b(o.l.Na,o.l,o):null;e:{var E=o.i;let A=-1;for(;;){let R=["count="+l];A==-1?0<l?(A=E[0].g,R.push("ofs="+A)):A=0:R.push("ofs="+A);let ne=!0;for(let we=0;we<l;we++){let Y=E[we].g,Ae=E[we].map;if(Y-=A,0>Y)A=Math.max(0,E[we].g-100),ne=!1;else try{Ng(Ae,R,"req"+Y+"_")}catch{f&&f(Ae)}}if(ne){f=R.join("&");break e}}}return o=o.i.splice(0,l),u.D=o,f}function Fh(o){if(!o.g&&!o.u){o.Y=1;var u=o.Fa;M||he(),V||(M(),V=!0),W.add(u,o),o.v=0}}function ea(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Sr(b(o.Fa,o),Vh(o,o.v)),o.v++,!0)}n.Fa=function(){if(this.u=null,xh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Sr(b(this.ab,this),o)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),Qi(this),xh(this))};function ta(o){o.A!=null&&(c.clearTimeout(o.A),o.A=null)}function xh(o){o.g=new Nt(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var u=mt(o.qa);se(u,"RID","rpc"),se(u,"SID",o.K),se(u,"AID",o.T),se(u,"CI",o.F?"0":"1"),!o.F&&o.ja&&se(u,"TO",o.ja),se(u,"TYPE","xmlhttp"),Fr(o,u),o.m&&o.o&&Xo(u,o.m,o.o),o.L&&(o.g.I=o.L);var l=o.g;o=o.ia,l.L=1,l.v=Ki(mt(u)),l.m=null,l.P=!0,uh(l,o)}n.Za=function(){this.C!=null&&(this.C=null,Qi(this),ea(this),De(19))};function Ji(o){o.C!=null&&(c.clearTimeout(o.C),o.C=null)}function Lh(o,u){var l=null;if(o.g==u){Ji(o),ta(o),o.g=null;var f=2}else if(Yo(o.h,u))l=u.D,mh(o.h,u),f=1;else return;if(o.G!=0){if(u.o)if(f==1){l=u.m?u.m.length:0,u=Date.now()-u.F;var E=o.B;f=Bi(),be(f,new sh(f,l)),Yi(o)}else Fh(o);else if(E=u.s,E==3||E==0&&0<u.X||!(f==1&&Fg(o,u)||f==2&&ea(o)))switch(l&&0<l.length&&(u=o.h,u.i=u.i.concat(l)),E){case 1:on(o,5);break;case 4:on(o,10);break;case 3:on(o,6);break;default:on(o,2)}}}function Vh(o,u){let l=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(l*=2),l*u}function on(o,u){if(o.j.info("Error code "+u),u==2){var l=b(o.fb,o),f=o.Xa;let E=!f;f=new sn(f||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qi(f,"https"),Ki(f),E?Cg(f.toString(),l):Rg(f.toString(),l)}else De(2);o.G=0,o.l&&o.l.sa(u),Uh(o),kh(o)}n.fb=function(o){o?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function Uh(o){if(o.G=0,o.ka=[],o.l){let u=gh(o.h);(u.length!=0||o.i.length!=0)&&(P(o.ka,u),P(o.ka,o.i),o.h.i.length=0,N(o.i),o.i.length=0),o.l.ra()}}function Bh(o,u,l){var f=l instanceof sn?mt(l):new sn(l);if(f.g!="")u&&(f.g=u+"."+f.g),Gi(f,f.s);else{var E=c.location;f=E.protocol,u=u?u+"."+E.hostname:E.hostname,E=+E.port;var A=new sn(null);f&&qi(A,f),u&&(A.g=u),E&&Gi(A,E),l&&(A.l=l),f=A}return l=o.D,u=o.ya,l&&u&&se(f,l,u),se(f,"VER",o.la),Fr(o,f),f}function $h(o,u,l){if(u&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Ca&&!o.pa?new le(new Nr({eb:l})):new le(o.pa),u.Ha(o.J),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function jh(){}n=jh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Xi(){}Xi.prototype.g=function(o,u){return new Oe(o,u)};function Oe(o,u){Te.call(this),this.g=new Nh(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(o?o["X-WebChannel-Client-Profile"]=u.va:o={"X-WebChannel-Client-Profile":u.va}),this.g.S=o,(o=u&&u.Sb)&&!G(o)&&(this.g.m=o),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!G(u)&&(this.g.D=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new Vn(this)}D(Oe,Te),Oe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Oe.prototype.close=function(){Zo(this.g)},Oe.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var l={};l.__data__=o,o=l}else this.u&&(l={},l.__data__=$o(o),o=l);u.i.push(new vg(u.Ya++,o)),u.G==3&&Yi(u)},Oe.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,Oe.aa.N.call(this)};function zh(o){zo.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(let l in u){o=l;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}D(zh,zo);function qh(){qo.call(this),this.status=1}D(qh,qo);function Vn(o){this.g=o}D(Vn,jh),Vn.prototype.ua=function(){be(this.g,"a")},Vn.prototype.ta=function(o){be(this.g,new zh(o))},Vn.prototype.sa=function(o){be(this.g,new qh)},Vn.prototype.ra=function(){be(this.g,"b")},Xi.prototype.createWebChannel=Xi.prototype.g,Oe.prototype.send=Oe.prototype.o,Oe.prototype.open=Oe.prototype.m,Oe.prototype.close=Oe.prototype.close,lm=bt.createWebChannelTransport=function(){return new Xi},um=bt.getStatEventTarget=function(){return Bi()},cm=bt.Event=nn,am=bt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,om=bt.ErrorCode=$i,oh.COMPLETE="complete",sm=bt.EventType=oh,th.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",Te.prototype.listen=Te.prototype.K,im=bt.WebChannel=th,rm=bt.FetchXmlHttpFactory=Nr,le.prototype.listenOnce=le.prototype.L,le.prototype.getLastError=le.prototype.Ka,le.prototype.getLastErrorCode=le.prototype.Ba,le.prototype.getStatus=le.prototype.Z,le.prototype.getResponseJson=le.prototype.Oa,le.prototype.getResponseText=le.prototype.oa,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Ha,nm=bt.XhrIo=le}).apply(typeof so<"u"?so:typeof self<"u"?self:typeof window<"u"?window:{});var hm="@firebase/firestore";var _e=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_e.UNAUTHENTICATED=new _e(null),_e.GOOGLE_CREDENTIALS=new _e("google-credentials-uid"),_e.FIRST_PARTY=new _e("first-party-uid"),_e.MOCK_USER=new _e("mock-user");var Pi="10.12.1";var mr=new Gt("@firebase/firestore");function je(n,...e){if(mr.logLevel<=J.DEBUG){let t=e.map(sl);mr.debug(`Firestore (${Pi}): ${n}`,...t)}}function il(n,...e){if(mr.logLevel<=J.ERROR){let t=e.map(sl);mr.error(`Firestore (${Pi}): ${n}`,...t)}}function IT(n,...e){if(mr.logLevel<=J.WARN){let t=e.map(sl);mr.warn(`Firestore (${Pi}): ${n}`,...t)}}function sl(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ke(n="Unexpected state"){let e=`FIRESTORE (${Pi}) INTERNAL ASSERTION FAILED: `+n;throw il(e),new Error(e)}function Ri(n,e){n||ke()}var Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ge=class extends $e{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Zt=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var oo=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Bu=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_e.UNAUTHENTICATED))}shutdown(){}},$u=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},ju=class{constructor(e){this.t=e,this.currentUser=_e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i,i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve(),s=new Zt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zt,e.enqueueRetryable(()=>i(this.currentUser))};let a=()=>{let h=s;e.enqueueRetryable(()=>S(this,null,function*(){yield h.promise,yield i(this.currentUser)}))},c=h=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){let h=this.t.getImmediate({optional:!0});h?c(h):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zt)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ri(typeof r.accessToken=="string"),new oo(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ri(e===null||typeof e=="string"),new _e(e)}},zu=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=_e.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},qu=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new zu(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(_e.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Gu=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ku=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let r=s=>{s.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let a=s.token!==this.R;return this.R=s.token,je("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ri(typeof t.token=="string"),this.R=t.token,new Gu(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function TT(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Wu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=TT(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function gm(n,e){return n<e?-1:n>e?1:0}var Hu=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ke(),r===void 0?r=e.length-t:r>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),a=t.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Xt=class n extends Hu{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new ge(Ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}};var Rn=class n{constructor(e){this.path=e}static fromPath(e){return new n(Xt.fromString(e))}static fromName(e){return new n(Xt.fromString(e).popFirst(5))}static empty(){return new n(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Xt(e.slice()))}};var Qu=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Qu.UNKNOWN_ID=-1;function ym(n){return n.name==="IndexedDbTransactionError"}function AT(n){return n===0&&1/n==-1/0}var ST=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fC=[...ST,"documentOverlays"],bT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DT=bT,pC=[...DT,"indexConfiguration","indexState","indexEntries"];var gr=class n{constructor(e,t){this.comparator=e,this.root=t||lt.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lt.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pr(this.root,e,this.comparator,!1)}getReverseIterator(){return new pr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pr(this.root,e,this.comparator,!0)}},pr=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},lt=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();let e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}};lt.EMPTY=null,lt.RED=!0,lt.BLACK=!1;lt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,r,i,s){return this}insert(e,t,r){return new lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ao=class n{constructor(e){this.comparator=e,this.data=new gr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new co(this.data.getIterator())}getIteratorFrom(e){return new co(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},co=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Yu=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var yr=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Yu("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gm(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yr.EMPTY_BYTE_STRING=new yr("");var CT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function RT(n){if(Ri(!!n),typeof n=="string"){let e=0,t=CT.exec(n);if(Ri(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:uo(n.seconds),nanos:uo(n.nanos)}}function uo(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function PT(n){return typeof n=="string"?yr.fromBase64String(n):yr.fromUint8Array(n)}var Ju=class{constructor(e,t,r,i,s,a,c,h,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d}},Xu=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function NT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var gC=new gr(Rn.comparator);var yC=new gr(Rn.comparator);var vC=new gr(Rn.comparator),_C=new ao(Rn.comparator);var wC=new ao(gm);var dm,Q;(Q=dm||(dm={}))[Q.OK=0]="OK",Q[Q.CANCELLED=1]="CANCELLED",Q[Q.UNKNOWN=2]="UNKNOWN",Q[Q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Q[Q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Q[Q.NOT_FOUND=5]="NOT_FOUND",Q[Q.ALREADY_EXISTS=6]="ALREADY_EXISTS",Q[Q.PERMISSION_DENIED=7]="PERMISSION_DENIED",Q[Q.UNAUTHENTICATED=16]="UNAUTHENTICATED",Q[Q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Q[Q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Q[Q.ABORTED=10]="ABORTED",Q[Q.OUT_OF_RANGE=11]="OUT_OF_RANGE",Q[Q.UNIMPLEMENTED=12]="UNIMPLEMENTED",Q[Q.INTERNAL=13]="INTERNAL",Q[Q.UNAVAILABLE=14]="UNAVAILABLE",Q[Q.DATA_LOSS=15]="DATA_LOSS";var EC=new Vu([4294967295,4294967295],0);var lo=class{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(uo(e.integerValue));else if("doubleValue"in e){let r=uo(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),AT(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(t,20),typeof r=="string"&&(r=RT(r)),t.At(`${r.seconds||""}`),t.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(PT(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?NT(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):ke()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){let r=e.fields||{};this.Et(t,55);for(let i of Object.keys(r))this.Rt(i,t),this.It(r[i],t)}wt(e,t){let r=e.values||[];this.Et(t,50);for(let i of r)this.It(i,t)}gt(e,t){this.Et(t,37),Rn.fromName(e).path.forEach(r=>{this.Et(t,60),this.St(r,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}};lo.bt=new lo;var IC=new Uint8Array(0);var ut=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ut.DEFAULT_COLLECTION_PERCENTILE=10,ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ut.DEFAULT=new ut(41943040,ut.DEFAULT_COLLECTION_PERCENTILE,ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ut.DISABLED=new ut(-1,0,0);function Uu(){return typeof document<"u"?document:null}var Zu=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=t,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let t=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,t-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var el=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let a=Date.now()+r,c=new n(e,t,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function kT(n,e){if(il("AsyncQueue",`${e}: ${n}`),ym(n))return new ge(Ie.UNAVAILABLE,`${e}: ${n}`);throw n}var fm,pm;(pm=fm||(fm={})).J_="default",pm.Cache="cache";var tl=class{constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=_e.UNAUTHENTICATED,this.clientId=Wu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>S(this,null,function*(){je("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(je("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ge(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Zt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=kT(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function vm(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var mm=new Map;function OT(n,e,t,r){if(e===!0&&r===!0)throw new ge(Ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function MT(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke()}function FT(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=MT(n);throw new ge(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var ho=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vm((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},fo=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ho({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ge(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ge(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ho(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Bu;switch(r.type){case"firstParty":return new qu(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=mm.get(t);r&&(je("ComponentProvider","Removing Datastore"),mm.delete(t),r.terminate())}(this),Promise.resolve()}};function _m(n,e,t,r={}){var i;let s=(n=FT(n,fo))._getSettings(),a=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&IT("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=_e.MOCK_USER;else{c=Uf(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new ge(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new _e(d)}n._authCredentials=new $u(new oo(c,h))}}var nl=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Zu(this,"async_queue_retry"),this.hu=()=>{let t=Uu();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};let e=Uu();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let t=Uu();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let t=new Zt;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return S(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!ym(e))throw e;je("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let t=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw il("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=t,t}enqueueAfterDelay(e,t,r){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);let i=el.createAndSchedule(this,e,t,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&ke()}verifyOperationInProgress(){}du(){return S(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this._u)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let t=this._u.indexOf(e);this._u.splice(t,1)}};var rl=class extends fo{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=function(){return new nl}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xT(this),this._firestoreClient.terminate()}};function wm(n,e){let t=typeof n=="object"?n:ar(),r=typeof n=="string"?n:e||"(default)",i=_i(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Vf("firestore");s&&_m(i,...s)}return i}function xT(n){var e,t,r;let i=n._freezeSettings(),s=function(c,h,d,y){return new Ju(c,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,vm(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._firestoreClient=new tl(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var TC=new RegExp("[~\\*/\\[\\]]");(function(e,t=!0){(function(i){Pi=i})(Ht),Wt(new Je("firestore",(r,{instanceIdentifier:i,options:s})=>{let a=r.getProvider("app").getImmediate(),c=new rl(new ju(r.getProvider("auth-internal")),new Ku(r.getProvider("app-check-internal")),function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ge(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xu(d.options.projectId,y)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),me(hm,"4.6.3",e),me(hm,"4.6.3","esm2017")})();var Ni=class{constructor(e){return e}},Em="firestore",ol=class{constructor(){return wi(Em)}};var al=new Z("angularfire2.firestore-instances");function LT(n,e){let t=Us(Em,n,e);return t&&new Ni(t)}function VT(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ni(r)}}var UT={provide:ol,deps:[[new Ne,al]]},BT={provide:Ni,useFactory:LT,deps:[[new Ne,al],Tt]};function Im(n,...e){return me("angularfire",Tn.full,"fst"),Fe([BT,UT,{provide:al,useFactory:VT(n),multi:!0,deps:[ae,xe,lr,An,[new Ne,Ci],[new Ne,ur],...e]}])}var Tm=hr(wm,!0);var q=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(q||{}),ht="*";function Am(n,e){return{type:q.Trigger,name:n,definitions:e,options:{}}}function cl(n,e=null){return{type:q.Animate,styles:e,timings:n}}function Sm(n,e=null){return{type:q.Sequence,steps:n,options:e}}function Pn(n){return{type:q.Style,styles:n,offset:null}}function po(n,e,t){return{type:q.State,name:n,styles:e,options:t}}function ul(n,e,t=null){return{type:q.Transition,expr:n,animation:e,options:t}}var en=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},ki=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==s&&this._onFinish()}),a.onDestroy(()=>{++r==s&&this._onDestroy()}),a.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,c)=>Math.max(a,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},mo="!";function bm(n){return new L(3e3,!1)}function $T(){return new L(3100,!1)}function jT(){return new L(3101,!1)}function zT(n){return new L(3001,!1)}function qT(n){return new L(3003,!1)}function GT(n){return new L(3004,!1)}function KT(n,e){return new L(3005,!1)}function WT(){return new L(3006,!1)}function HT(){return new L(3007,!1)}function QT(n,e){return new L(3008,!1)}function YT(n){return new L(3002,!1)}function JT(n,e,t,r,i){return new L(3010,!1)}function XT(){return new L(3011,!1)}function ZT(){return new L(3012,!1)}function e0(){return new L(3200,!1)}function t0(){return new L(3202,!1)}function n0(){return new L(3013,!1)}function r0(n){return new L(3014,!1)}function i0(n){return new L(3015,!1)}function s0(n){return new L(3016,!1)}function o0(n,e){return new L(3404,!1)}function a0(n){return new L(3502,!1)}function c0(n){return new L(3503,!1)}function u0(){return new L(3300,!1)}function l0(n){return new L(3504,!1)}function h0(n){return new L(3301,!1)}function d0(n,e){return new L(3302,!1)}function f0(n){return new L(3303,!1)}function p0(n,e){return new L(3400,!1)}function m0(n){return new L(3401,!1)}function g0(n){return new L(3402,!1)}function y0(n,e){return new L(3505,!1)}function tn(n){switch(n.length){case 0:return new en;case 1:return n[0];default:return new ki(n)}}function Bm(n,e,t=new Map,r=new Map){let i=[],s=[],a=-1,c=null;if(e.forEach(h=>{let d=h.get("offset"),y=d==a,T=y&&c||new Map;h.forEach((b,C)=>{let D=C,N=b;if(C!=="offset")switch(D=n.normalizePropertyName(D,i),N){case mo:N=t.get(C);break;case ht:N=r.get(C);break;default:N=n.normalizeStyleValue(C,D,N,i);break}T.set(D,N)}),y||s.push(T),c=T,a=d}),i.length)throw a0(i);return s}function kl(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&ll(t,"start",n)));break;case"done":n.onDone(()=>r(t&&ll(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&ll(t,"destroy",n)));break}}function ll(n,e,t){let r=t.totalTime,i=!!t.disabled,s=Ol(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),a=n._data;return a!=null&&(s._data=a),s}function Ol(n,e,t,r,i="",s=0,a){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!a}}function qe(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Dm(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var v0=typeof document>"u"?null:document.documentElement;function Ml(n){let e=n.parentNode||n.host||null;return e===v0?null:e}function _0(n){return n.substring(1,6)=="ebkit"}var Nn=null,Cm=!1;function w0(n){Nn||(Nn=E0()||{},Cm=Nn.style?"WebkitAppearance"in Nn.style:!1);let e=!0;return Nn.style&&!_0(n)&&(e=n in Nn.style,!e&&Cm&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Nn.style)),e}function E0(){return typeof document<"u"?document.body:null}function $m(n,e){for(;e;){if(e===n)return!0;e=Ml(e)}return!1}function jm(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var Fl=(()=>{let e=class e{validateStyleProperty(r){return w0(r)}matchesElement(r,i){return!1}containsElement(r,i){return $m(r,i)}getParentElement(r){return Ml(r)}query(r,i,s){return jm(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,a,c,h=[],d){return new en(s,a)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let n=e;return n})(),Ul=class Ul{};Ul.NOOP=new Fl;var Mn=Ul,Fn=class{};var I0=1e3,zm="{{",T0="}}",qm="ng-enter",gl="ng-leave",go="ng-trigger",Eo=".ng-trigger",Rm="ng-animating",yl=".ng-animating";function Dt(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:vl(parseFloat(e[1]),e[2])}function vl(n,e){switch(e){case"s":return n*I0;default:return n}}function Io(n,e,t){return n.hasOwnProperty("duration")?n:A0(n,e,t)}function A0(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,a="";if(typeof n=="string"){let c=n.match(r);if(c===null)return e.push(bm(n)),{duration:0,delay:0,easing:""};i=vl(parseFloat(c[1]),c[2]);let h=c[3];h!=null&&(s=vl(parseFloat(h),c[4]));let d=c[5];d&&(a=d)}else i=n;if(!t){let c=!1,h=e.length;i<0&&(e.push($T()),c=!0),s<0&&(e.push(jT()),c=!0),c&&e.splice(h,0,bm(n))}return{duration:i,delay:s,easing:a}}function S0(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function dt(n,e,t){e.forEach((r,i)=>{let s=xl(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function On(n,e){e.forEach((t,r)=>{let i=xl(r);n.style[i]=""})}function Oi(n){return Array.isArray(n)?n.length==1?n[0]:Sm(n):n}function b0(n,e,t){let r=e.params||{},i=Gm(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(zT(s))})}var _l=new RegExp(`${zm}\\s*(.+?)\\s*${T0}`,"g");function Gm(n){let e=[];if(typeof n=="string"){let t;for(;t=_l.exec(n);)e.push(t[1]);_l.lastIndex=0}return e}function Fi(n,e,t){let r=`${n}`,i=r.replace(_l,(s,a)=>{let c=e[a];return c==null&&(t.push(qT(a)),c=""),c.toString()});return i==r?n:i}var D0=/-+([a-z0-9])/g;function xl(n){return n.replace(D0,(...e)=>e[1].toUpperCase())}function C0(n,e){return n===0||e===0}function R0(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,a)=>{r.has(a)||i.push(a),r.set(a,s)}),i.length)for(let s=1;s<e.length;s++){let a=e[s];i.forEach(c=>a.set(c,Ll(n,c)))}}return e}function ze(n,e,t){switch(e.type){case q.Trigger:return n.visitTrigger(e,t);case q.State:return n.visitState(e,t);case q.Transition:return n.visitTransition(e,t);case q.Sequence:return n.visitSequence(e,t);case q.Group:return n.visitGroup(e,t);case q.Animate:return n.visitAnimate(e,t);case q.Keyframes:return n.visitKeyframes(e,t);case q.Style:return n.visitStyle(e,t);case q.Reference:return n.visitReference(e,t);case q.AnimateChild:return n.visitAnimateChild(e,t);case q.AnimateRef:return n.visitAnimateRef(e,t);case q.Query:return n.visitQuery(e,t);case q.Stagger:return n.visitStagger(e,t);default:throw GT(e.type)}}function Ll(n,e){return window.getComputedStyle(n)[e]}var P0=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),To=class extends Fn{normalizePropertyName(e,t){return xl(e)}normalizeStyleValue(e,t,r,i){let s="",a=r.toString().trim();if(P0.has(t)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let c=r.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&c[1].length==0&&i.push(KT(e,r))}return a+s}};var Ao="*";function N0(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>k0(r,t,e)):t.push(n),t}function k0(n,e,t){if(n[0]==":"){let h=O0(n,t);if(typeof h=="function"){e.push(h);return}n=h}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(i0(n)),e;let i=r[1],s=r[2],a=r[3];e.push(Pm(i,a));let c=i==Ao&&a==Ao;s[0]=="<"&&!c&&e.push(Pm(a,i))}function O0(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(s0(n)),"* => *"}}var yo=new Set(["true","1"]),vo=new Set(["false","0"]);function Pm(n,e){let t=yo.has(n)||vo.has(n),r=yo.has(e)||vo.has(e);return(i,s)=>{let a=n==Ao||n==i,c=e==Ao||e==s;return!a&&t&&typeof i=="boolean"&&(a=i?yo.has(n):vo.has(n)),!c&&r&&typeof s=="boolean"&&(c=s?yo.has(e):vo.has(e)),a&&c}}var Km=":self",M0=new RegExp(`s*${Km}s*,?`,"g");function Wm(n,e,t,r){return new wl(n).build(e,t,r)}var Nm="",wl=class{constructor(e){this._driver=e}build(e,t,r){let i=new El(t);return this._resetContextStyleTimingState(i),ze(this,Oi(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=Nm,e.collectedStyles=new Map,e.collectedStyles.set(Nm,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,s=[],a=[];return e.name.charAt(0)=="@"&&t.errors.push(WT()),e.definitions.forEach(c=>{if(this._resetContextStyleTimingState(t),c.type==q.State){let h=c,d=h.name;d.toString().split(/\s*,\s*/).forEach(y=>{h.name=y,s.push(this.visitState(h,t))}),h.name=d}else if(c.type==q.Transition){let h=this.visitTransition(c,t);r+=h.queryCount,i+=h.depCount,a.push(h)}else t.errors.push(HT())}),{type:q.Trigger,name:e.name,states:s,transitions:a,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,a=i||{};r.styles.forEach(c=>{c instanceof Map&&c.forEach(h=>{Gm(h).forEach(d=>{a.hasOwnProperty(d)||s.add(d)})})}),s.size&&t.errors.push(QT(e.name,[...s.values()]))}return{type:q.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=ze(this,Oi(e.animation),t),i=N0(e.expr,t.errors);return{type:q.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:kn(e.options)}}visitSequence(e,t){return{type:q.Sequence,steps:e.steps.map(r=>ze(this,r,t)),options:kn(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,s=e.steps.map(a=>{t.currentTime=r;let c=ze(this,a,t);return i=Math.max(i,t.currentTime),c});return t.currentTime=i,{type:q.Group,steps:s,options:kn(e.options)}}visitAnimate(e,t){let r=V0(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Pn({});if(s.type==q.Keyframes)i=this.visitKeyframes(s,t);else{let a=e.styles,c=!1;if(!a){c=!0;let d={};r.easing&&(d.easing=r.easing),a=Pn(d)}t.currentTime+=r.duration+r.delay;let h=this.visitStyle(a,t);h.isEmptyStep=c,i=h}return t.currentAnimateTimings=null,{type:q.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let c of i)typeof c=="string"?c===ht?r.push(c):t.errors.push(YT(c)):r.push(new Map(Object.entries(c)));let s=!1,a=null;return r.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(a=c.get("easing"),c.delete("easing")),!s)){for(let h of c.values())if(h.toString().indexOf(zm)>=0){s=!0;break}}}),{type:q.Style,styles:r,easing:a,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(a=>{typeof a!="string"&&a.forEach((c,h)=>{let d=t.collectedStyles.get(t.currentQuerySelector),y=d.get(h),T=!0;y&&(s!=i&&s>=y.startTime&&i<=y.endTime&&(t.errors.push(JT(h,y.startTime,y.endTime,s,i)),T=!1),s=y.startTime),T&&d.set(h,{startTime:s,endTime:i}),t.options&&b0(c,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:q.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(XT()),r;let i=1,s=0,a=[],c=!1,h=!1,d=0,y=e.steps.map(F=>{let G=this._makeStyleAst(F,t),H=G.offset!=null?G.offset:L0(G.styles),j=0;return H!=null&&(s++,j=G.offset=H),h=h||j<0||j>1,c=c||j<d,d=j,a.push(j),G});h&&t.errors.push(ZT()),c&&t.errors.push(e0());let T=e.steps.length,b=0;s>0&&s<T?t.errors.push(t0()):s==0&&(b=i/(T-1));let C=T-1,D=t.currentTime,N=t.currentAnimateTimings,P=N.duration;return y.forEach((F,G)=>{let H=b>0?G==C?1:b*G:a[G],j=H*P;t.currentTime=D+N.delay+j,N.duration=j,this._validateStyleAst(F,t),F.offset=H,r.styles.push(F)}),r}visitReference(e,t){return{type:q.Reference,animation:ze(this,Oi(e.animation),t),options:kn(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:q.AnimateChild,options:kn(e.options)}}visitAnimateRef(e,t){return{type:q.AnimateRef,animation:this.visitReference(e.animation,t),options:kn(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[s,a]=F0(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,qe(t.collectedStyles,t.currentQuerySelector,new Map);let c=ze(this,Oi(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:q.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:c,originalSelector:e.selector,options:kn(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(n0());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Io(e.timings,t.errors,!0);return{type:q.Stagger,animation:ze(this,Oi(e.animation),t),timings:r,options:null}}};function F0(n){let e=!!n.split(/\s*,\s*/).find(t=>t==Km);return e&&(n=n.replace(M0,"")),n=n.replace(/@\*/g,Eo).replace(/@\w+/g,t=>Eo+"-"+t.slice(1)).replace(/:animating/g,yl),[n,e]}function x0(n){return n?k({},n):null}var El=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function L0(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function V0(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=Io(n,e).duration;return hl(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=hl(0,0,"");return s.dynamic=!0,s.strValue=t,s}let i=Io(t,e);return hl(i.duration,i.delay,i.easing)}function kn(n){return n?(n=k({},n),n.params&&(n.params=x0(n.params))):n={},n}function hl(n,e,t){return{duration:n,delay:e,easing:t}}function Vl(n,e,t,r,i,s,a=null,c=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:a,subTimeline:c}}var xi=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},U0=1,B0=":enter",$0=new RegExp(B0,"g"),j0=":leave",z0=new RegExp(j0,"g");function Hm(n,e,t,r,i,s=new Map,a=new Map,c,h,d=[]){return new Il().buildKeyframes(n,e,t,r,i,s,a,c,h,d)}var Il=class{buildKeyframes(e,t,r,i,s,a,c,h,d,y=[]){d=d||new xi;let T=new Tl(e,t,d,i,s,y,[]);T.options=h;let b=h.delay?Dt(h.delay):0;T.currentTimeline.delayNextStep(b),T.currentTimeline.setStyles([a],null,T.errors,h),ze(this,r,T);let C=T.timelines.filter(D=>D.containsAnimation());if(C.length&&c.size){let D;for(let N=C.length-1;N>=0;N--){let P=C[N];if(P.element===t){D=P;break}}D&&!D.allowOnlyTimelineStyles()&&D.setStyles([c],null,T.errors,h)}return C.length?C.map(D=>D.buildKeyframes()):[Vl(t,[],[],[],0,b,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,a=this._visitSubInstructions(r,i,i.options);s!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let s=i?.delay;if(s){let a=typeof s=="number"?s:Dt(Fi(s,i?.params??{},t.errors));r.delayNextStep(a)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime,a=r.duration!=null?Dt(r.duration):null,c=r.delay!=null?Dt(r.delay):null;return a!==0&&e.forEach(h=>{let d=t.appendInstructionToTimeline(h,a,c);s=Math.max(s,d.duration+d.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ze(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==q.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=So);let a=Dt(s.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>ze(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,s=e.options&&e.options.delay?Dt(e.options.delay):0;e.steps.forEach(a=>{let c=t.createSubContext(e.options);s&&c.delayNextStep(s),ze(this,a,c),i=Math.max(i,c.currentTimeline.currentTime),r.push(c.currentTimeline)}),r.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Fi(r,t.params,t.errors):r;return Io(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==q.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,c=t.createSubContext().currentTimeline;c.easing=r.easing,e.styles.forEach(h=>{let d=h.offset||0;c.forwardTime(d*s),c.setStyles(h.styles,h.easing,t.errors,t.options),c.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(c),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Dt(i.delay):0;s&&(t.previousNode.type===q.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=So);let a=r,c=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=c.length;let h=null;c.forEach((d,y)=>{t.currentQueryIndex=y;let T=t.createSubContext(e.options,d);s&&T.delayNextStep(s),d===t.element&&(h=T.currentTimeline),ze(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe();let b=T.currentTimeline.currentTime;a=Math.max(a,b)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),h&&(t.currentTimeline.mergeTimelineCollectedStyles(h),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,s=e.timings,a=Math.abs(s.duration),c=a*(t.currentQueryTotal-1),h=a*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":h=c-h;break;case"full":h=r.currentStaggerTime;break}let y=t.currentTimeline;h&&y.delayNextStep(h);let T=y.currentTime;ze(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-T+(i.startTime-r.currentTimeline.startTime)}},So={},Tl=class n{constructor(e,t,r,i,s,a,c,h){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=a,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=So,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=h||new bo(this._driver,t,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Dt(r.duration)),r.delay!=null&&(i.delay=Dt(r.delay));let s=r.params;if(s){let a=i.params;a||(a=this.options.params={}),Object.keys(s).forEach(c=>{(!t||!a.hasOwnProperty(c))&&(a[c]=Fi(s[c],a,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,s=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=So,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Al(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,a){let c=[];if(i&&c.push(this.element),e.length>0){e=e.replace($0,"."+this._enterClassName),e=e.replace(z0,"."+this._leaveClassName);let h=r!=1,d=this._driver.query(this.element,e,h);r!==0&&(d=r<0?d.slice(d.length+r,d.length):d.slice(0,r)),c.push(...d)}return!s&&c.length==0&&a.push(r0(t)),c}},bo=class n{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=U0,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ht),this._currentKeyframe.set(t,ht);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let s=i&&i.params||{},a=q0(e,this._globalTimelineStyles);for(let[c,h]of a){let d=Fi(h,s,r);this._pendingStyles.set(c,d),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??ht),this._updateStyle(c,d)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((c,h)=>{let d=new Map([...this._backFill,...c]);d.forEach((y,T)=>{y===mo?e.add(T):y===ht&&t.add(T)}),r||d.set("offset",h/this.duration),i.push(d)});let s=[...e.values()],a=[...t.values()];if(r){let c=i[0],h=new Map(c);c.set("offset",0),h.set("offset",1),i=[c,h]}return Vl(this.element,i,s,a,this.duration,this.startTime,this.easing,!1)}},Al=class extends bo{constructor(e,t,r,i,s,a,c=!1){super(e,t,a.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=c,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],a=r+t,c=t/a,h=new Map(e[0]);h.set("offset",0),s.push(h);let d=new Map(e[0]);d.set("offset",km(c)),s.push(d);let y=e.length-1;for(let T=1;T<=y;T++){let b=new Map(e[T]),C=b.get("offset"),D=t+C*r;b.set("offset",km(D/a)),s.push(b)}r=a,t=0,i="",e=s}return Vl(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function km(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function q0(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)t.set(s,ht)}else for(let[s,a]of i)t.set(s,a)}),t}function Om(n,e,t,r,i,s,a,c,h,d,y,T,b){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:a,timelines:c,queriedElements:h,preStyleProps:d,postStyleProps:y,totalTime:T,errors:b}}var dl={},Do=class{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return G0(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,a,c,h,d,y){let T=[],b=this.ast.options&&this.ast.options.params||dl,C=c&&c.params||dl,D=this.buildStyles(r,C,T),N=h&&h.params||dl,P=this.buildStyles(i,N,T),F=new Set,G=new Map,H=new Map,j=i==="void",ye={params:Qm(N,b),delay:this.ast.options?.delay},te=y?[]:Hm(e,t,this.ast.animation,s,a,D,P,ye,d,T),_=0;return te.forEach(p=>{_=Math.max(p.duration+p.delay,_)}),T.length?Om(t,this._triggerName,r,i,j,D,P,[],[],G,H,_,T):(te.forEach(p=>{let m=p.element,v=qe(G,m,new Set);p.preStyleProps.forEach(I=>v.add(I));let w=qe(H,m,new Set);p.postStyleProps.forEach(I=>w.add(I)),m!==t&&F.add(m)}),Om(t,this._triggerName,r,i,j,D,P,te,[...F.values()],G,H,_))}};function G0(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}function Qm(n,e){let t=k({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var Sl=class{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=Qm(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{a&&(a=Fi(a,i,t));let h=this.normalizer.normalizePropertyName(c,t);a=this.normalizer.normalizeStyleValue(c,h,a,t),r.set(c,a)})}),r}};function K0(n,e,t){return new bl(n,e,t)}var bl=class{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new Sl(i.style,s,r))}),Mm(this.states,"true","1"),Mm(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Do(e,i,this.states))}),this.fallbackTransition=W0(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(a=>a.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function W0(n,e,t){let r=[(a,c)=>!0],i={type:q.Sequence,steps:[],options:null},s={type:q.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Do(n,s,e)}function Mm(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var H0=new xi,Dl=class{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let r=[],i=[],s=Wm(this._driver,t,r,i);if(r.length)throw c0(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,r){let i=e.element,s=Bm(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],s=this._animations.get(e),a,c=new Map;if(s?(a=Hm(this._driver,t,s,qm,gl,new Map,new Map,r,H0,i),a.forEach(y=>{let T=qe(c,y.element,new Map);y.postStyleProps.forEach(b=>T.set(b,null))})):(i.push(u0()),a=[]),i.length)throw l0(i);c.forEach((y,T)=>{y.forEach((b,C)=>{y.set(C,this._driver.computeStyle(T,C,ht))})});let h=a.map(y=>{let T=c.get(y.element);return this._buildPlayer(y,new Map,T)}),d=tn(h);return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw h0(e);return t}listen(e,t,r,i){let s=Ol(t,"","","");return kl(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let a=i[0]||{};this.create(e,t,a);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},Fm="ng-animate-queued",Q0=".ng-animate-queued",fl="ng-animate-disabled",Y0=".ng-animate-disabled",J0="ng-star-inserted",X0=".ng-star-inserted",Z0=[],Ym={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eA={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rt="__ng_removed",Li=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=nA(i),r){let s=e,{value:a}=s,c=ra(s,["value"]);this.options=c}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Mi="void",pl=new Li(Mi),Cl=class{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Xe(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw d0(r,t);if(r==null||r.length==0)throw f0(t);if(!rA(r))throw p0(r,t);let s=qe(this._elementListeners,e,[]),a={name:t,phase:r,callback:i};s.push(a);let c=qe(this._engine.statesByElement,e,new Map);return c.has(t)||(Xe(e,go),Xe(e,go+"-"+t),c.set(t,pl)),()=>{this._engine.afterFlush(()=>{let h=s.indexOf(a);h>=0&&s.splice(h,1),this._triggers.has(t)||c.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw m0(e);return t}trigger(e,t,r,i=!0){let s=this._getTrigger(t),a=new Vi(this.id,t,e),c=this._engine.statesByElement.get(e);c||(Xe(e,go),Xe(e,go+"-"+t),this._engine.statesByElement.set(e,c=new Map));let h=c.get(t),d=new Li(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&h&&d.absorbOptions(h.options),c.set(t,d),h||(h=pl),!(d.value===Mi)&&h.value===d.value){if(!oA(h.params,d.params)){let N=[],P=s.matchStyles(h.value,h.params,N),F=s.matchStyles(d.value,d.params,N);N.length?this._engine.reportError(N):this._engine.afterFlush(()=>{On(e,P),dt(e,F)})}return}let b=qe(this._engine.playersByElement,e,[]);b.forEach(N=>{N.namespaceId==this.id&&N.triggerName==t&&N.queued&&N.destroy()});let C=s.matchTransition(h.value,d.value,e,d.params),D=!1;if(!C){if(!i)return;C=s.fallbackTransition,D=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:C,fromState:h,toState:d,player:a,isFallbackTransition:D}),D||(Xe(e,Fm),a.onStart(()=>{vr(e,Fm)})),a.onDone(()=>{let N=this.players.indexOf(a);N>=0&&this.players.splice(N,1);let P=this._engine.playersByElement.get(e);if(P){let F=P.indexOf(a);F>=0&&P.splice(F,1)}}),this.players.push(a),b.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Eo,!0);r.forEach(i=>{if(i[rt])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(a=>a.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let s=this._engine.statesByElement.get(e),a=new Map;if(s){let c=[];if(s.forEach((h,d)=>{if(a.set(d,h.value),this._triggers.has(d)){let y=this.trigger(e,d,Mi,i);y&&c.push(y)}}),c.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,a),r&&tn(c).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(s=>{let a=s.name;if(i.has(a))return;i.add(a);let h=this._triggers.get(a).fallbackTransition,d=r.get(a)||pl,y=new Li(Mi),T=new Vi(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:h,fromState:d,toState:y,player:T,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let a=e;for(;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let s=e[rt];(!s||s===Ym)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Xe(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,a=this._elementListeners.get(s);a&&a.forEach(c=>{if(c.name==r.triggerName){let h=Ol(s,r.triggerName,r.fromState.value,r.toState.value);h._data=e,kl(r.player,c.phase,h,c.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let s=r.transition.ast.depCount,a=i.transition.ast.depCount;return s==0||a==0?s-a:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Rl=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r,i){this.bodyNode=e,this.driver=t,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,a)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new Cl(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let a=!1,c=this.driver.getParentElement(t);for(;c;){let h=i.get(c);if(h){let d=r.indexOf(h);r.splice(d+1,0,e),a=!0;break}c=this.driver.getParentElement(c)}a||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}}return t}trigger(e,t,r,i){if(_o(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!_o(t))return;let s=t[rt];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){let a=this._fetchNamespace(e);a&&a.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Xe(e,fl)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),vr(e,fl))}removeNode(e,t,r){if(_o(t)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[rt]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return _o(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Eo,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,yl,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return tn(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[rt];if(t&&t.setForRemoval){if(e[rt]=Ym,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(fl)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Y0,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Xe(i,J0)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?tn(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw g0(e)}_flushAnimations(e,t){let r=new xi,i=[],s=new Map,a=[],c=new Map,h=new Map,d=new Map,y=new Set;this.disabledNodes.forEach(O=>{y.add(O);let M=this.driver.query(O,Q0,!0);for(let V=0;V<M.length;V++)y.add(M[V])});let T=this.bodyNode,b=Array.from(this.statesByElement.keys()),C=Vm(b,this.collectedEnterElements),D=new Map,N=0;C.forEach((O,M)=>{let V=qm+N++;D.set(M,V),O.forEach(W=>Xe(W,V))});let P=[],F=new Set,G=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){let M=this.collectedLeaveElements[O],V=M[rt];V&&V.setForRemoval&&(P.push(M),F.add(M),V.hasAnimation?this.driver.query(M,X0,!0).forEach(W=>F.add(W)):G.add(M))}let H=new Map,j=Vm(b,Array.from(F));j.forEach((O,M)=>{let V=gl+N++;H.set(M,V),O.forEach(W=>Xe(W,V))}),e.push(()=>{C.forEach((O,M)=>{let V=D.get(M);O.forEach(W=>vr(W,V))}),j.forEach((O,M)=>{let V=H.get(M);O.forEach(W=>vr(W,V))}),P.forEach(O=>{this.processLeaveNode(O)})});let ye=[],te=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(t).forEach(V=>{let W=V.player,he=V.element;if(ye.push(W),this.collectedEnterElements.length){let ue=he[rt];if(ue&&ue.setForMove){if(ue.previousTriggersValues&&ue.previousTriggersValues.has(V.triggerName)){let ft=ue.previousTriggersValues.get(V.triggerName),Pe=this.statesByElement.get(V.element);if(Pe&&Pe.has(V.triggerName)){let pt=Pe.get(V.triggerName);pt.value=ft,Pe.set(V.triggerName,pt)}}W.destroy();return}}let Ke=!T||!this.driver.containsElement(T,he),ce=H.get(he),re=D.get(he),ie=this._buildInstruction(V,r,re,ce,Ke);if(ie.errors&&ie.errors.length){te.push(ie);return}if(Ke){W.onStart(()=>On(he,ie.fromStyles)),W.onDestroy(()=>dt(he,ie.toStyles)),i.push(W);return}if(V.isFallbackTransition){W.onStart(()=>On(he,ie.fromStyles)),W.onDestroy(()=>dt(he,ie.toStyles)),i.push(W);return}let Rt=[];ie.timelines.forEach(ue=>{ue.stretchStartingKeyframe=!0,this.disabledNodes.has(ue.element)||Rt.push(ue)}),ie.timelines=Rt,r.append(he,ie.timelines);let ko={instruction:ie,player:W,element:he};a.push(ko),ie.queriedElements.forEach(ue=>qe(c,ue,[]).push(W)),ie.preStyleProps.forEach((ue,ft)=>{if(ue.size){let Pe=h.get(ft);Pe||h.set(ft,Pe=new Set),ue.forEach((pt,Pt)=>Pe.add(Pt))}}),ie.postStyleProps.forEach((ue,ft)=>{let Pe=d.get(ft);Pe||d.set(ft,Pe=new Set),ue.forEach((pt,Pt)=>Pe.add(Pt))})});if(te.length){let O=[];te.forEach(M=>{O.push(y0(M.triggerName,M.errors))}),ye.forEach(M=>M.destroy()),this.reportError(O)}let _=new Map,p=new Map;a.forEach(O=>{let M=O.element;r.has(M)&&(p.set(M,M),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,_))}),i.forEach(O=>{let M=O.element;this._getPreviousPlayers(M,!1,O.namespaceId,O.triggerName,null).forEach(W=>{qe(_,M,[]).push(W),W.destroy()})});let m=P.filter(O=>Um(O,h,d)),v=new Map;Lm(v,this.driver,G,d,ht).forEach(O=>{Um(O,h,d)&&m.push(O)});let I=new Map;C.forEach((O,M)=>{Lm(I,this.driver,new Set(O),h,mo)}),m.forEach(O=>{let M=v.get(O),V=I.get(O);v.set(O,new Map([...M?.entries()??[],...V?.entries()??[]]))});let g=[],Ge=[],Ct={};a.forEach(O=>{let{element:M,player:V,instruction:W}=O;if(r.has(M)){if(y.has(M)){V.onDestroy(()=>dt(M,W.toStyles)),V.disabled=!0,V.overrideTotalTime(W.totalTime),i.push(V);return}let he=Ct;if(p.size>1){let ce=M,re=[];for(;ce=ce.parentNode;){let ie=p.get(ce);if(ie){he=ie;break}re.push(ce)}re.forEach(ie=>p.set(ie,he))}let Ke=this._buildAnimation(V.namespaceId,W,_,s,I,v);if(V.setRealPlayer(Ke),he===Ct)g.push(V);else{let ce=this.playersByElement.get(he);ce&&ce.length&&(V.parentPlayer=tn(ce)),i.push(V)}}else On(M,W.fromStyles),V.onDestroy(()=>dt(M,W.toStyles)),Ge.push(V),y.has(M)&&i.push(V)}),Ge.forEach(O=>{let M=s.get(O.element);if(M&&M.length){let V=tn(M);O.setRealPlayer(V)}}),i.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<P.length;O++){let M=P[O],V=M[rt];if(vr(M,gl),V&&V.hasAnimation)continue;let W=[];if(c.size){let Ke=c.get(M);Ke&&Ke.length&&W.push(...Ke);let ce=this.driver.query(M,yl,!0);for(let re=0;re<ce.length;re++){let ie=c.get(ce[re]);ie&&ie.length&&W.push(...ie)}}let he=W.filter(Ke=>!Ke.destroyed);he.length?iA(this,M,he):this.processLeaveNode(M)}return P.length=0,g.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();let M=this.players.indexOf(O);this.players.splice(M,1)}),O.play()}),g}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let a=[];if(t){let c=this.playersByQueriedElement.get(e);c&&(a=c)}else{let c=this.playersByElement.get(e);if(c){let h=!s||s==Mi;c.forEach(d=>{d.queued||!h&&d.triggerName!=i||a.push(d)})}}return(r||i)&&(a=a.filter(c=>!(r&&r!=c.namespaceId||i&&i!=c.triggerName))),a}_beforeAnimationBuild(e,t,r){let i=t.triggerName,s=t.element,a=t.isRemovalTransition?void 0:e,c=t.isRemovalTransition?void 0:i;for(let h of t.timelines){let d=h.element,y=d!==s,T=qe(r,d,[]);this._getPreviousPlayers(d,y,a,c,t.toState).forEach(C=>{let D=C.getRealPlayer();D.beforeDestroy&&D.beforeDestroy(),C.destroy(),T.push(C)})}On(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,a){let c=t.triggerName,h=t.element,d=[],y=new Set,T=new Set,b=t.timelines.map(D=>{let N=D.element;y.add(N);let P=N[rt];if(P&&P.removedBeforeQueried)return new en(D.duration,D.delay);let F=N!==h,G=sA((r.get(N)||Z0).map(_=>_.getRealPlayer())).filter(_=>{let p=_;return p.element?p.element===N:!1}),H=s.get(N),j=a.get(N),ye=Bm(this._normalizer,D.keyframes,H,j),te=this._buildPlayer(D,ye,G);if(D.subTimeline&&i&&T.add(N),F){let _=new Vi(e,c,N);_.setRealPlayer(te),d.push(_)}return te});d.forEach(D=>{qe(this.playersByQueriedElement,D.element,[]).push(D),D.onDone(()=>tA(this.playersByQueriedElement,D.element,D))}),y.forEach(D=>Xe(D,Rm));let C=tn(b);return C.onDestroy(()=>{y.forEach(D=>vr(D,Rm)),dt(h,t.toStyles)}),T.forEach(D=>{qe(i,D,[]).push(C)}),C}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new en(e.duration,e.delay)}},Vi=class{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new en,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>kl(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){qe(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function tA(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function nA(n){return n??null}function _o(n){return n&&n.nodeType===1}function rA(n){return n=="start"||n=="done"}function xm(n,e){let t=n.style.display;return n.style.display=e??"none",t}function Lm(n,e,t,r,i){let s=[];t.forEach(h=>s.push(xm(h)));let a=[];r.forEach((h,d)=>{let y=new Map;h.forEach(T=>{let b=e.computeStyle(d,T,i);y.set(T,b),(!b||b.length==0)&&(d[rt]=eA,a.push(d))}),n.set(d,y)});let c=0;return t.forEach(h=>xm(h,s[c++])),a}function Vm(n,e){let t=new Map;if(n.forEach(c=>t.set(c,[])),e.length==0)return t;let r=1,i=new Set(e),s=new Map;function a(c){if(!c)return r;let h=s.get(c);if(h)return h;let d=c.parentNode;return t.has(d)?h=d:i.has(d)?h=r:h=a(d),s.set(c,h),h}return e.forEach(c=>{let h=a(c);h!==r&&t.get(h).push(c)}),t}function Xe(n,e){n.classList?.add(e)}function vr(n,e){n.classList?.remove(e)}function iA(n,e,t){tn(t).onDone(()=>n.processLeaveNode(e))}function sA(n){let e=[];return Jm(n,e),e}function Jm(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof ki?Jm(r.players,e):e.push(r)}}function oA(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function Um(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}var wr=class{constructor(e,t,r,i){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,a)=>{},this._transitionEngine=new Rl(e.body,t,r,i),this._timelineEngine=new Dl(e.body,t,r),this._transitionEngine.onRemovalComplete=(s,a)=>this.onRemovalComplete(s,a)}registerTrigger(e,t,r,i,s){let a=e+"-"+i,c=this._triggerCache[a];if(!c){let h=[],d=[],y=Wm(this._driver,s,h,d);if(h.length)throw o0(i,h);d.length&&void 0,c=K0(i,y,this._normalizer),this._triggerCache[a]=c}this._transitionEngine.registerTrigger(t,i,c)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[s,a]=Dm(r),c=i;this._timelineEngine.command(s,t,a,c)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if(r.charAt(0)=="@"){let[a,c]=Dm(r);return this._timelineEngine.listen(a,t,c,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function aA(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=ml(e[0]),e.length>1&&(r=ml(e[e.length-1]))):e instanceof Map&&(t=ml(e)),t||r?new Pl(n,t,r):null}var _r=class _r{constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=_r.initialStylesByElement.get(e);i||_r.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&dt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dt(this._element,this._initialStyles),this._endStyles&&(dt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(_r.initialStylesByElement.delete(this._element),this._startStyles&&(On(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(On(this._element,this._endStyles),this._endStyles=null),dt(this._element,this._initialStyles),this._state=3)}};_r.initialStylesByElement=new WeakMap;var Pl=_r;function ml(n){let e=null;return n.forEach((t,r)=>{cA(r)&&(e=e||new Map,e.set(r,t))}),e}function cA(n){return n==="display"||n==="position"}var Co=class{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Ll(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Ro=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return $m(e,t)}getParentElement(e){return Ml(e)}query(e,t,r){return jm(e,t,r)}computeStyle(e,t,r){return Ll(e,t)}animate(e,t,r,i,s,a=[]){let c=i==0?"both":"forwards",h={duration:r,delay:i,fill:c};s&&(h.easing=s);let d=new Map,y=a.filter(C=>C instanceof Co);C0(r,i)&&y.forEach(C=>{C.currentSnapshot.forEach((D,N)=>d.set(N,D))});let T=S0(t).map(C=>new Map(C));T=R0(e,T,d);let b=aA(e,T);return new Co(e,T,h,b)}};var wo="@",Xm="@.disabled",Po=class{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==wo&&t==Xm?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Nl=class extends Po{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==wo?t.charAt(1)=="."&&t==Xm?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if(t.charAt(0)==wo){let i=uA(e),s=t.slice(1),a="";return s.charAt(0)!=wo&&([s,a]=lA(s)),this.engine.listen(this.namespaceId,i,s,a,c=>{let h=c._data||-1;this.factory.scheduleListenerCallback(h,r,c)})}return this.delegate.listen(e,t,r)}};function uA(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function lA(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var No=class{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,s)=>{let a=s?.parentNode(i);a&&s.removeChild(a,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let d=this._rendererCache,y=d.get(i);if(!y){let T=()=>d.delete(i);y=new Po(r,i,this.engine,T),d.set(i,y)}return y}let s=t.id,a=t.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);let c=d=>{Array.isArray(d)?d.forEach(c):this.engine.registerTrigger(s,a,e,d.name,d)};return t.data.animation.forEach(c),new Nl(this,a,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[a,c]=s;a(c)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var dA=(()=>{let e=class e extends wr{constructor(r,i,s){super(r,i,s,x(gd,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(U(de),U(Mn),U(Fn))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let n=e;return n})();function fA(){return new To}function pA(n,e,t){return new No(n,e,t)}var Zm=[{provide:Fn,useFactory:fA},{provide:wr,useClass:dA},{provide:es,useFactory:pA,deps:[gs,wr,ae]}],mA=[{provide:Mn,useFactory:()=>new Ro},{provide:wa,useValue:"BrowserAnimations"},...Zm],cP=[{provide:Mn,useClass:Fl},{provide:wa,useValue:"NoopAnimations"},...Zm];function eg(){return ts("NgEagerAnimations"),[...mA]}var tg=["toast-component",""];function gA(n,e){if(n&1){let t=Sa();Le(0,"button",5),Hn("click",function(){ma(t);let i=Ve();return ga(i.remove())}),Le(1,"span",6),nt(2,"\xD7"),tt()()}}function yA(n,e){if(n&1&&(Ta(0),nt(1),Aa()),n&2){let t=Ve(2);pe(),hn("[",t.duplicatesCount+1,"]")}}function vA(n,e){if(n&1&&(Le(0,"div"),nt(1),Br(2,yA,2,1,"ng-container",4),tt()),n&2){let t=Ve();_t(t.options.titleClass),Kn("aria-label",t.title),pe(),hn(" ",t.title," "),pe(),Re("ngIf",t.duplicatesCount)}}function _A(n,e){if(n&1&&wt(0,"div",7),n&2){let t=Ve();_t(t.options.messageClass),Re("innerHTML",t.message,Ia)}}function wA(n,e){if(n&1&&(Le(0,"div",8),nt(1),tt()),n&2){let t=Ve();_t(t.options.messageClass),Kn("aria-label",t.message),pe(),hn(" ",t.message," ")}}function EA(n,e){if(n&1&&(Le(0,"div"),wt(1,"div",9),tt()),n&2){let t=Ve();pe(),Wn("width",t.width+"%")}}function IA(n,e){if(n&1){let t=Sa();Le(0,"button",5),Hn("click",function(){ma(t);let i=Ve();return ga(i.remove())}),Le(1,"span",6),nt(2,"\xD7"),tt()()}}function TA(n,e){if(n&1&&(Ta(0),nt(1),Aa()),n&2){let t=Ve(2);pe(),hn("[",t.duplicatesCount+1,"]")}}function AA(n,e){if(n&1&&(Le(0,"div"),nt(1),Br(2,TA,2,1,"ng-container",4),tt()),n&2){let t=Ve();_t(t.options.titleClass),Kn("aria-label",t.title),pe(),hn(" ",t.title," "),pe(),Re("ngIf",t.duplicatesCount)}}function SA(n,e){if(n&1&&wt(0,"div",7),n&2){let t=Ve();_t(t.options.messageClass),Re("innerHTML",t.message,Ia)}}function bA(n,e){if(n&1&&(Le(0,"div",8),nt(1),tt()),n&2){let t=Ve();_t(t.options.messageClass),Kn("aria-label",t.message),pe(),hn(" ",t.message," ")}}function DA(n,e){if(n&1&&(Le(0,"div"),wt(1,"div",9),tt()),n&2){let t=Ve();pe(),Wn("width",t.width+"%")}}var Bl=class{_attachedHost;component;viewContainerRef;injector;constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},$l=class{_attachedPortal;_disposeFn;attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},jl=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Ce;_activate=new Ce;_manualClose=new Ce;_resetTimeout=new Ce;_countDuplicate=new Ce;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}},Er=class{toastId;config;message;title;toastType;toastRef;_onTap=new Ce;_onAction=new Ce;constructor(e,t,r,i,s,a){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},ng={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},rg=new Z("ToastConfig"),zl=class extends $l{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){let r=this._componentFactoryResolver.resolveComponentFactory(e.component),i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},CA=(()=>{class n{_document=x(de);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ql=class{_portalHost;constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}},RA=(()=>{class n{_overlayContainer=x(CA);_componentFactoryResolver=x(yd);_appRef=x(Vt);_document=x(de);_paneElements=new Map;create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new zl(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new ql(this._createPortalHost(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ig=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,r,i,s,a){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=a,this.toastrConfig=k(k({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=k(k({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,t,r,this.applyConfig(i))}error(t,r,i={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,t,r,this.applyConfig(i))}info(t,r,i={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,t,r,this.applyConfig(i))}warning(t,r,i={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,t,r,this.applyConfig(i))}clear(t){for(let r of this.toasts)if(t!==void 0){if(r.toastId===t){r.toastRef.manualClose();return}}else r.toastRef.manualClose()}remove(t){let r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){let{includeTitleDuplicates:a}=this.toastrConfig;for(let c of this.toasts){let h=a&&c.title===t;if((!a||h)&&c.message===r)return c.toastRef.onDuplicate(i,s),c}return null}applyConfig(t={}){return k(k({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");let a=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&a!==null)return a;this.previousToastMessage=r;let c=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(c=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let h=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let d=r;r&&s.enableHtml&&(d=this.sanitizer.sanitize(vt.HTML,r));let y=new jl(h),T=new Er(this.index,s,d,i,t,y),b=[{provide:Er,useValue:T}],C=xe.create({providers:b,parent:this._injector}),D=new Bl(s.toastComponent,C),N=h.attach(D,s.newestOnTop);y.componentInstance=N.instance;let P={toastId:this.index,title:i||"",message:r||"",toastRef:y,onShown:y.afterActivate(),onHidden:y.afterClosed(),onTap:T.onTap(),onAction:T.onAction(),portal:N};return c||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{P.toastRef.activate()})),this.toasts.push(P),P}static \u0275fac=function(r){return new(r||n)(U(rg),U(RA),U(xe),U(za),U(ae))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PA=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=oe(k({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let t=new Date().getTime(),r=this.hideTime-t;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=oe(k({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=oe(k({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(r){return new(r||n)(et(ig),et(Er),et(ae))};static \u0275cmp=cn({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){r&1&&Hn("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(wd("@flyInOut",i.state),_t(i.toastClasses),Wn("display",i.displayStyle))},standalone:!0,features:[dn],attrs:tg,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&Br(0,gA,3,0,"button",0)(1,vA,3,5,"div",1)(2,_A,1,3,"div",2)(3,wA,2,4,"div",3)(4,EA,2,2,"div",4),r&2&&(Re("ngIf",i.options.closeButton),pe(),Re("ngIf",i.title),pe(),Re("ngIf",i.message&&i.options.enableHtml),pe(),Re("ngIf",i.message&&!i.options.enableHtml),pe(),Re("ngIf",i.options.progressBar))},dependencies:[Na],encapsulation:2,data:{animation:[Am("flyInOut",[po("inactive",Pn({opacity:0})),po("active",Pn({opacity:1})),po("removed",Pn({opacity:0})),ul("inactive => active",cl("{{ easeTime }}ms {{ easing }}")),ul("active => removed",cl("{{ easeTime }}ms {{ easing }}"))])]}})}return n})(),NA=oe(k({},ng),{toastComponent:PA}),sg=(n={})=>Fe([{provide:rg,useValue:{default:NA,config:n}}]);var kA=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){return this.state==="inactive"?"none":null}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let t=new Date().getTime(),r=this.hideTime-t;this.width=r/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(r){return new(r||n)(et(ig),et(Er),et(Vt))};static \u0275cmp=cn({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,i){r&1&&Hn("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(_t(i.toastClasses),Wn("display",i.displayStyle))},standalone:!0,features:[dn],attrs:tg,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&Br(0,IA,3,0,"button",0)(1,AA,3,5,"div",1)(2,SA,1,3,"div",2)(3,bA,2,4,"div",3)(4,DA,2,2,"div",4),r&2&&(Re("ngIf",i.options.closeButton),pe(),Re("ngIf",i.title),pe(),Re("ngIf",i.message&&i.options.enableHtml),pe(),Re("ngIf",i.message&&!i.options.enableHtml),pe(),Re("ngIf",i.options.progressBar))},dependencies:[Na],encapsulation:2})}return n})(),EP=oe(k({},ng),{toastComponent:kA});var og={providers:[jd(),eg(),sg(),Of(Mf),ap(()=>cp({projectId:"clinica-3c199",appId:"1:843286763763:web:20326de4d5d4168fcebf86",storageBucket:"clinica-3c199.appspot.com",apiKey:"AIzaSyARVYnrMWCFZLB64LouAFTOxtRpl__n98s",authDomain:"clinica-3c199.firebaseapp.com",messagingSenderId:"843286763763"})),Jp(()=>Xp()),Im(()=>Tm())]};var ag=(()=>{let e=class e{constructor(){this.title="clinica"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=cn({type:e,selectors:[["app-root"]],standalone:!0,features:[dn],decls:3,vars:0,template:function(i,s){i&1&&(Le(0,"h1"),nt(1,"tp clinicas! fixed issues"),tt(),wt(2,"router-outlet"))},dependencies:[Ac]});let n=e;return n})();Qd(ag,og).catch(n=>console.error(n));
