import{F as m,H as y,I,J as s,K as n,M as d,N as q,O as l}from"./chunk-QWFAWHVU.js";import{ba as h,g as c,ga as u}from"./chunk-4VRYZ7GX.js";var g=(()=>{let o=class o{constructor(e){this.firestore=e}getAllTurnos(){let e=s(this.firestore,"turnos");return y(e)}getTurnosFromEspecialista(e){return c(this,null,function*(){try{let t=s(this.firestore,"turnos"),i=d(t,l("especialistaId","==",e)),r=yield n(i);if(r.empty)return;{let a=[];return r.forEach(f=>{a.push(f.data())}),a}}catch(t){console.error("Error al obtener los turnos por paciente: ",t);return}})}getTurnosFromPaciente(e){return c(this,null,function*(){try{let t=s(this.firestore,"turnos"),i=d(t,l("pacienteId","==",e)),r=yield n(i);if(r.empty)return;{let a=[];return r.forEach(f=>{a.push(f.data())}),a}}catch(t){console.error("Error al obtener los turnos por especialista: ",t);return}})}altaTurno(e){try{let t=s(this.firestore,"turnos");I(t,{id:e.id,fecha:e.fecha,especialistaId:e.especialistaId,pacienteId:e.pacienteId,especialidad:e.especialidad,estado:e.estado,comentario:e.comentario,resenia:e.resenia})}catch(t){console.error("Error en el alta del turno:",t)}}update(e){return c(this,null,function*(){try{let t=s(this.firestore,"turnos"),i=d(t,l("id","==",e.id)),r=yield n(i);if(!r.empty){let a=r.docs[0].ref;yield q(a,{id:e.id,fecha:e.fecha,especialistaId:e.especialistaId,pacienteId:e.pacienteId,especialidad:e.especialidad,estado:e.estado,comentario:e.comentario,resenia:e.resenia})}}catch(t){throw console.error("Error actualizando el turno:",t),t}})}};o.\u0275fac=function(t){return new(t||o)(u(m))},o.\u0275prov=h({token:o,factory:o.\u0275fac,providedIn:"root"});let p=o;return p})();export{g as a};
