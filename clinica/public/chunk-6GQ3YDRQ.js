import{b as s,e as y,h as F,j as C,o as k,p as M,q as S,r as w}from"./chunk-5KP67G6Z.js";import{D as h,F as _}from"./chunk-N5S5APGK.js";import{f as b}from"./chunk-HWF6SIQ6.js";import"./chunk-WXI33M2S.js";import"./chunk-6MDBUFOA.js";import{Ib as g,Pb as f,Ta as m,Ua as o,jb as c,ka as u,rb as r,sb as a,tb as v,zb as d}from"./chunk-KRYZRDOZ.js";var B=(()=>{let i=class i{constructor(n,t,e,l){this.fb=n,this.router=t,this.toast=e,this.loginService=l,this.loginUser={email:"",password:"",rol:""},this.goToRegister=()=>this.router.navigateByUrl("/register"),this.loginForm=this.fb.group({email:["",[s.required,s.email]],password:["",[s.required,s.minLength(8)]]})}receiveValues(n){this.loginForm.patchValue(n)}login(){this.loginForm.valid&&(this.loginUser.email=this.loginForm.controls.email.value,this.loginUser.password=this.loginForm.controls.password.value,this.loginService.addToLogger(this.loginUser.email),this.loginService.login(this.loginUser),this.toast.success(`Nos alegra verte ${this.loginUser.email}!`),this.router.navigateByUrl("/"))}};i.\u0275fac=function(t){return new(t||i)(o(k),o(b),o(h),o(_))},i.\u0275cmp=u({type:i,selectors:[["app-login"]],standalone:!0,features:[f],decls:17,vars:3,consts:[[1,"container-fluid","vh-100","m-0","p-0"],[1,"row","justify-content-center","align-items-top","h-100","form-container"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[3,"formGroup"],[3,"valuesEmitter","parentForm"],[1,"login-btns"],[1,"form-group"],["type","button",1,"btn","btn-success","btn-block",3,"click","disabled"],["type","button",1,"btn","btn-primary","btn-block",3,"click"]],template:function(t,e){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),g(6,"Ingrese su usuario"),a(),v(7,"br"),r(8,"form",6)(9,"app-email-password-inputs",7),d("valuesEmitter",function(P){return e.receiveValues(P)}),a(),r(10,"div",8)(11,"div",9)(12,"button",10),d("click",function(){return e.login()}),g(13,"Iniciar Sesi\xF3n"),a()(),r(14,"div",9)(15,"button",11),d("click",function(){return e.goToRegister()}),g(16,"Registrarse"),a()()()()()()()()()),t&2&&(m(8),c("formGroup",e.loginForm),m(),c("parentForm",e.loginForm),m(3),c("disabled",e.loginForm.invalid))},dependencies:[M,F,y,S,C,w],styles:['.container-fluid[_ngcontent-%COMP%]{background-color:#000;background-image:url("./media/fondo-login-B4375WB6.png");background-size:contain;background-repeat:no-repeat;background-position:center;display:flex;flex-direction:column;align-items:center;padding:20px;margin:1%}.form-container[_ngcontent-%COMP%]{margin-top:5em;justify-content:center}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:1em}.card-body[_ngcontent-%COMP%]{padding:2em}.login-btns[_ngcontent-%COMP%]{text-align:center}h1[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:1em}']});let p=i;return p})();export{B as LoginComponent};
